(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"k6+y":function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.r(t),n.d(t,"default",(function(){return l}));var o=n("hosL"),a=n("Y3FI"),i=n("ddgq"),c=n("k8bO"),s=n("7YW4"),l=function(e){function t(t){var n;return(n=e.call(this,t)||this).boardClick=function(e){console.log("BoardClick",e,n.game),n.game.finished||n.game.nextPlayer===n.player&&(e.isEmpty||alert("This space is already taken"),n.controller.move(e.boardIndex))},n.restart=function(){n.controller.restart()},n.newgame=function(){Object(a.b)("/")},n.state={connectedToPeer:!1,connectedToPlayer:!1,waiting:!0,error:!1,win:[],board:c.a.generateEmptyBoard()},"undefined"==typeof window?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):(n.hostId=window.location.search.replace("?",""),n.controller=new s.a(c.a.O),n.controller.on("open",(function(){n.setState({connectedToPeer:!0}),n.controller.connectToHost(n.hostId)})),n.controller.on("connected",(function(){return n.setState({connectedToPlayer:!0})})),n.controller.on("updatedGameState",(function(e){n.setState({waiting:n.game.nextPlayer!==n.player,win:e.winIndexes,board:e.board})})),n)}var n,l;l=e,(n=t).prototype=Object.create(l.prototype),n.prototype.constructor=n,n.__proto__=l;var u,d,h,p=t.prototype;return p.status=function(){return this.game&&this.game.finished?this.game.draw?"Tie":this.player===c.a.X&&this.game.xWin||this.player===c.a.O&&this.game.oWin?"You won":"You lost":this.state.waiting?"Waiting...":"Your turn..."},p.renderConnecting=function(){return Object(o.h)("main",null,Object(o.h)("p",null,"Connecting..."),this.renderButtons())},p.renderWaitingForPlayer=function(){return Object(o.h)("main",null,Object(o.h)("p",null,"Connecting to player..."),this.renderButtons())},p.renderBoard=function(){var e=this.state.connectedToPlayer?Object(o.h)(i.a,{win:this.state.win,board:this.state.board,click:this.boardClick}):Object(o.h)("div",null);return Object(o.h)("main",null,Object(o.h)("p",null,"You are playing as O."),Object(o.h)("div",{class:"board-wrapper"},e,Object(o.h)("span",{class:"status"},this.status())),this.renderButtons())},p.renderButtons=function(){var e=this.game.finished?Object(o.h)("button",{onclick:this.restart},"Restart"):"";return Object(o.h)("p",null,e,Object(o.h)("button",{onclick:this.newgame},"New Game"))},p.render=function(e,t){return t.connectedToPeer?t.connectedToPlayer?this.renderBoard():this.renderWaitingForPlayer():this.renderConnecting()},u=t,(d=[{key:"player",get:function(){return this.controller.player}},{key:"game",get:function(){return this.controller.game}}])&&r(u.prototype,d),h&&r(u,h),t}(o.Component)}}]);
//# sourceMappingURL=route-remote_game.chunk.7e3f0.js.map