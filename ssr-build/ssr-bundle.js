module.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s="QfWi")}({"84ms":function(t,e,n){"use strict";var r=n("sWw+"),o=n("Jwrc"),i=n("x6h6"),s=n("HtbY"),a={baseColor:"#933c3c"},c=["octogons","overlappingCircles","plusSigns","xes","sineWaves","hexagons","overlappingRings","plaid","triangles","squares","concentricCircles","diamonds","tessellation","nestedSquares","mosaicSquares","chevrons"],h="#222",l="#ddd",u="#000",p=.02,f=.02,d=.15;function g(t,e,n){return parseInt(t.substr(e,n||1),16)}function v(t,e,n,r,o){return(parseFloat(t)-e)*(o-r)/(n-e)+r}function y(t){return t%2==0?l:h}function m(t){return v(t,0,15,f,d)}var b=t.exports=function(t,e){return this.opts=r({},a,e),this.hash=e.hash||i(t),this.svg=new s,this.generateBackground(),this.generatePattern(),this};function O(t){return[[t,0,t,3*t],[0,t,3*t,t]]}function j(t){return[0,0,t,t,0,t,0,0].join(",")}function C(t,e,n,r,o){var i=j(r),s=m(o[0]),a=y(o[0]),c={stroke:u,"stroke-opacity":p,"fill-opacity":s,fill:a};t.polyline(i,c).transform({translate:[e+r,n],scale:[-1,1]}),t.polyline(i,c).transform({translate:[e+r,n+2*r],scale:[1,-1]}),s=m(o[1]),a=y(o[1]),c={stroke:u,"stroke-opacity":p,"fill-opacity":s,fill:a},t.polyline(i,c).transform({translate:[e+r,n+2*r],scale:[-1,-1]}),t.polyline(i,c).transform({translate:[e+r,n],scale:[1,1]})}function w(t,e,n,r,o){var i=m(o),s=y(o),a=j(r),c={stroke:u,"stroke-opacity":p,"fill-opacity":i,fill:s};t.polyline(a,c).transform({translate:[e,n+r],scale:[1,-1]}),t.polyline(a,c).transform({translate:[e+2*r,n+r],scale:[-1,-1]}),t.polyline(a,c).transform({translate:[e,n+r],scale:[1,1]}),t.polyline(a,c).transform({translate:[e+2*r,n+r],scale:[-1,1]})}b.prototype.toSvg=function(){return this.svg.toString()},b.prototype.toString=function(){return this.toSvg()},b.prototype.toBase64=function(){var t=this.toSvg();return"undefined"!=typeof window&&"function"==typeof window.btoa?window.btoa(t):new Buffer(t).toString("base64")},b.prototype.toDataUri=function(){return"data:image/svg+xml;base64,"+this.toBase64()},b.prototype.toDataUrl=function(){return'url("'+this.toDataUri()+'")'},b.prototype.generateBackground=function(){var t,e,n,r;this.opts.color?n=o.hex2rgb(this.opts.color):(e=v(g(this.hash,14,3),0,4095,0,359),r=g(this.hash,17),(t=o.rgb2hsl(o.hex2rgb(this.opts.baseColor))).h=(360*t.h-e+360)%360/360,t.s=r%2==0?Math.min(1,(100*t.s+r)/100):Math.max(0,(100*t.s-r)/100),n=o.hsl2rgb(t)),this.color=o.rgb2hex(n),this.svg.rect(0,0,"100%","100%",{fill:o.rgb2rgbString(n)})},b.prototype.generatePattern=function(){var t=this.opts.generator;if(t){if(c.indexOf(t)<0)throw new Error("The generator "+t+" does not exist.")}else t=c[g(this.hash,20)];return this["geo"+t.slice(0,1).toUpperCase()+t.slice(1)]()},b.prototype.geoHexagons=function(){var t,e,n,r,o,i,s,a=v(g(this.hash,0),0,15,8,60),c=a*Math.sqrt(3),h=2*a,l=function(t){var e=t,n=e/2,r=Math.sin(60*Math.PI/180)*e;return[0,r,n,0,n+e,0,2*e,r,n+e,2*r,n,2*r,0,r].join(",")}(a);for(this.svg.setWidth(3*h+3*a),this.svg.setHeight(6*c),e=0,s=0;s<6;s++)for(i=0;i<6;i++)t=i%2==0?s*c:s*c+c/2,n=m(o=g(this.hash,e)),r={fill:y(o),"fill-opacity":n,stroke:u,"stroke-opacity":p},this.svg.polyline(l,r).transform({translate:[i*a*1.5-h/2,t-c/2]}),0===i&&this.svg.polyline(l,r).transform({translate:[6*a*1.5-h/2,t-c/2]}),0===s&&(t=i%2==0?6*c:6*c+c/2,this.svg.polyline(l,r).transform({translate:[i*a*1.5-h/2,t-c/2]})),0===i&&0===s&&this.svg.polyline(l,r).transform({translate:[6*a*1.5-h/2,5*c+c/2]}),e++},b.prototype.geoSineWaves=function(){var t,e,n,r,o,i,s=Math.floor(v(g(this.hash,0),0,15,100,400)),a=Math.floor(v(g(this.hash,1),0,15,30,100)),c=Math.floor(v(g(this.hash,2),0,15,3,30));for(this.svg.setWidth(s),this.svg.setHeight(36*c),t=0;t<36;t++)e=m(o=g(this.hash,t)),r={fill:"none",stroke:y(o),opacity:e,"stroke-width":c+"px"},n="M0 "+a+" C "+(i=s/4*.7)+" 0, "+(s/2-i)+" 0, "+s/2+" "+a+" S "+(s-i)+" "+2*a+", "+s+" "+a+" S "+(1.5*s-i)+" 0, "+1.5*s+", "+a,this.svg.path(n,r).transform({translate:[-s/4,c*t-1.5*a]}),this.svg.path(n,r).transform({translate:[-s/4,c*t-1.5*a+36*c]})},b.prototype.geoChevrons=function(){var t,e,n,r,o,i,s,a,c,h,l=v(g(this.hash,0),0,15,30,80),f=v(g(this.hash,0),0,15,30,80),d=[[0,0,(t=l)/2,(e=f)-(n=.66*e),t/2,e,0,n,0,0],[t/2,e-n,t,0,t,n,t/2,e,t/2,e-n]].map((function(t){return t.join(",")}));for(this.svg.setWidth(6*l),this.svg.setHeight(6*f*.66),o=0,h=0;h<6;h++)for(c=0;c<6;c++)i=m(a=g(this.hash,o)),r=y(a),s={stroke:u,"stroke-opacity":p,fill:r,"fill-opacity":i,"stroke-width":1},this.svg.group(s).transform({translate:[c*l,h*f*.66-f/2]}).polyline(d).end(),0===h&&this.svg.group(s).transform({translate:[c*l,6*f*.66-f/2]}).polyline(d).end(),o+=1},b.prototype.geoPlusSigns=function(){var t,e,n,r,o,i,s,a=v(g(this.hash,0),0,15,10,25),c=3*a,h=O(a);for(this.svg.setWidth(12*a),this.svg.setHeight(12*a),e=0,s=0;s<6;s++)for(i=0;i<6;i++)n=m(o=g(this.hash,e)),t=s%2==0?0:1,r={fill:y(o),stroke:u,"stroke-opacity":p,"fill-opacity":n},this.svg.group(r).transform({translate:[i*c-i*a+t*a-a,s*c-s*a-c/2]}).rect(h).end(),0===i&&this.svg.group(r).transform({translate:[4*c-i*a+t*a-a,s*c-s*a-c/2]}).rect(h).end(),0===s&&this.svg.group(r).transform({translate:[i*c-i*a+t*a-a,4*c-s*a-c/2]}).rect(h).end(),0===i&&0===s&&this.svg.group(r).transform({translate:[4*c-i*a+t*a-a,4*c-s*a-c/2]}).rect(h).end(),e++},b.prototype.geoXes=function(){var t,e,n,r,o,i,s,a=v(g(this.hash,0),0,15,10,25),c=O(a),h=3*a*.943;for(this.svg.setWidth(3*h),this.svg.setHeight(3*h),e=0,s=0;s<6;s++)for(i=0;i<6;i++)n=m(o=g(this.hash,e)),t=i%2==0?s*h-.5*h:s*h-.5*h+h/4,r={fill:y(o),opacity:n},this.svg.group(r).transform({translate:[i*h/2-h/2,t-s*h/2],rotate:[45,h/2,h/2]}).rect(c).end(),0===i&&this.svg.group(r).transform({translate:[6*h/2-h/2,t-s*h/2],rotate:[45,h/2,h/2]}).rect(c).end(),0===s&&(t=i%2==0?6*h-h/2:6*h-h/2+h/4,this.svg.group(r).transform({translate:[i*h/2-h/2,t-6*h/2],rotate:[45,h/2,h/2]}).rect(c).end()),5===s&&this.svg.group(r).transform({translate:[i*h/2-h/2,t-11*h/2],rotate:[45,h/2,h/2]}).rect(c).end(),0===i&&0===s&&this.svg.group(r).transform({translate:[6*h/2-h/2,t-6*h/2],rotate:[45,h/2,h/2]}).rect(c).end(),e++},b.prototype.geoOverlappingCircles=function(){var t,e,n,r,o,i,s=v(g(this.hash,0),0,15,25,200)/2;for(this.svg.setWidth(6*s),this.svg.setHeight(6*s),t=0,i=0;i<6;i++)for(o=0;o<6;o++)e=m(r=g(this.hash,t)),n={fill:y(r),opacity:e},this.svg.circle(o*s,i*s,s,n),0===o&&this.svg.circle(6*s,i*s,s,n),0===i&&this.svg.circle(o*s,6*s,s,n),0===o&&0===i&&this.svg.circle(6*s,6*s,s,n),t++},b.prototype.geoOctogons=function(){var t,e,n,r,o,i,s=v(g(this.hash,0),0,15,10,60),a=function(t){var e=.33*t;return[e,0,t-e,0,t,e,t,t-e,t-e,t,e,t,0,t-e,0,e,e,0].join(",")}(s);for(this.svg.setWidth(6*s),this.svg.setHeight(6*s),e=0,i=0;i<6;i++)for(o=0;o<6;o++)n=m(r=g(this.hash,e)),t=y(r),this.svg.polyline(a,{fill:t,"fill-opacity":n,stroke:u,"stroke-opacity":p}).transform({translate:[o*s,i*s]}),e+=1},b.prototype.geoSquares=function(){var t,e,n,r,o,i,s=v(g(this.hash,0),0,15,10,60);for(this.svg.setWidth(6*s),this.svg.setHeight(6*s),e=0,i=0;i<6;i++)for(o=0;o<6;o++)n=m(r=g(this.hash,e)),t=y(r),this.svg.rect(o*s,i*s,s,s,{fill:t,"fill-opacity":n,stroke:u,"stroke-opacity":p}),e+=1},b.prototype.geoConcentricCircles=function(){var t,e,n,r,o,i,s=v(g(this.hash,0),0,15,10,60),a=s/5;for(this.svg.setWidth(6*(s+a)),this.svg.setHeight(6*(s+a)),e=0,i=0;i<6;i++)for(o=0;o<6;o++)n=m(r=g(this.hash,e)),t=y(r),this.svg.circle(o*s+o*a+(s+a)/2,i*s+i*a+(s+a)/2,s/2,{fill:"none",stroke:t,opacity:n,"stroke-width":a+"px"}),n=m(r=g(this.hash,39-e)),t=y(r),this.svg.circle(o*s+o*a+(s+a)/2,i*s+i*a+(s+a)/2,s/4,{fill:t,"fill-opacity":n}),e+=1},b.prototype.geoOverlappingRings=function(){var t,e,n,r,o,i,s=v(g(this.hash,0),0,15,10,60),a=s/4;for(this.svg.setWidth(6*s),this.svg.setHeight(6*s),t=0,i=0;i<6;i++)for(o=0;o<6;o++)e=m(r=g(this.hash,t)),n={fill:"none",stroke:y(r),opacity:e,"stroke-width":a+"px"},this.svg.circle(o*s,i*s,s-a/2,n),0===o&&this.svg.circle(6*s,i*s,s-a/2,n),0===i&&this.svg.circle(o*s,6*s,s-a/2,n),0===o&&0===i&&this.svg.circle(6*s,6*s,s-a/2,n),t+=1},b.prototype.geoTriangles=function(){var t,e,n,r,o,i,s,a=v(g(this.hash,0),0,15,15,80),c=a/2*Math.sqrt(3),h=function(t,e){var n=t/2;return[n,0,t,e,0,e,n,0].join(",")}(a,c);for(this.svg.setWidth(3*a),this.svg.setHeight(6*c),t=0,s=0;s<6;s++)for(i=0;i<6;i++)e=m(o=g(this.hash,t)),r={fill:y(o),"fill-opacity":e,stroke:u,"stroke-opacity":p},n=s%2==0?i%2==0?180:0:i%2!=0?180:0,this.svg.polyline(h,r).transform({translate:[i*a*.5-a/2,c*s],rotate:[n,a/2,c/2]}),0===i&&this.svg.polyline(h,r).transform({translate:[6*a*.5-a/2,c*s],rotate:[n,a/2,c/2]}),t+=1},b.prototype.geoDiamonds=function(){var t,e,n,r,o,i,s,a,c,h=v(g(this.hash,0),0,15,10,50),l=v(g(this.hash,1),0,15,10,50),f=[(t=h)/2,0,t,(e=l)/2,t/2,e,0,e/2].join(",");for(this.svg.setWidth(6*h),this.svg.setHeight(3*l),r=0,c=0;c<6;c++)for(a=0;a<6;a++)o=m(s=g(this.hash,r)),i={fill:y(s),"fill-opacity":o,stroke:u,"stroke-opacity":p},n=c%2==0?0:h/2,this.svg.polyline(f,i).transform({translate:[a*h-h/2+n,l/2*c-l/2]}),0===a&&this.svg.polyline(f,i).transform({translate:[6*h-h/2+n,l/2*c-l/2]}),0===c&&this.svg.polyline(f,i).transform({translate:[a*h-h/2+n,l/2*6-l/2]}),0===a&&0===c&&this.svg.polyline(f,i).transform({translate:[6*h-h/2+n,l/2*6-l/2]}),r+=1},b.prototype.geoNestedSquares=function(){var t,e,n,r,o,i,s=v(g(this.hash,0),0,15,4,12),a=7*s;for(this.svg.setWidth(6*(a+s)+6*s),this.svg.setHeight(6*(a+s)+6*s),t=0,i=0;i<6;i++)for(o=0;o<6;o++)e=m(r=g(this.hash,t)),n={fill:"none",stroke:y(r),opacity:e,"stroke-width":s+"px"},this.svg.rect(o*a+o*s*2+s/2,i*a+i*s*2+s/2,a,a,n),e=m(r=g(this.hash,39-t)),n={fill:"none",stroke:y(r),opacity:e,"stroke-width":s+"px"},this.svg.rect(o*a+o*s*2+s/2+2*s,i*a+i*s*2+s/2+2*s,3*s,3*s,n),t+=1},b.prototype.geoMosaicSquares=function(){var t,e,n,r=v(g(this.hash,0),0,15,15,50);for(this.svg.setWidth(8*r),this.svg.setHeight(8*r),t=0,n=0;n<4;n++)for(e=0;e<4;e++)e%2==0?n%2==0?w(this.svg,e*r*2,n*r*2,r,g(this.hash,t)):C(this.svg,e*r*2,n*r*2,r,[g(this.hash,t),g(this.hash,t+1)]):n%2==0?C(this.svg,e*r*2,n*r*2,r,[g(this.hash,t),g(this.hash,t+1)]):w(this.svg,e*r*2,n*r*2,r,g(this.hash,t)),t+=1},b.prototype.geoPlaid=function(){var t,e,n,r,o,i,s=0,a=0;for(e=0;e<36;)s+=g(this.hash,e)+5,n=m(i=g(this.hash,e+1)),t=y(i),r=i+5,this.svg.rect(0,s,"100%",r,{opacity:n,fill:t}),s+=r,e+=2;for(e=0;e<36;)a+=g(this.hash,e)+5,n=m(i=g(this.hash,e+1)),t=y(i),o=i+5,this.svg.rect(a,0,o,"100%",{opacity:n,fill:t}),a+=o,e+=2;this.svg.setWidth(a),this.svg.setHeight(s)},b.prototype.geoTessellation=function(){var t,e,n,r,o,i=v(g(this.hash,0),0,15,5,40),s=i*Math.sqrt(3),a=2*i,c=i/2*Math.sqrt(3),h=function(t,e){return[0,0,e,t/2,0,t,0,0].join(",")}(i,c),l=3*i+2*c,f=2*s+2*i;for(this.svg.setWidth(l),this.svg.setHeight(f),e=0;e<20;e++)switch(n=m(o=g(this.hash,e)),t=y(o),r={stroke:u,"stroke-opacity":p,fill:t,"fill-opacity":n,"stroke-width":1},e){case 0:this.svg.rect(-i/2,-i/2,i,i,r),this.svg.rect(l-i/2,-i/2,i,i,r),this.svg.rect(-i/2,f-i/2,i,i,r),this.svg.rect(l-i/2,f-i/2,i,i,r);break;case 1:this.svg.rect(a/2+c,s/2,i,i,r);break;case 2:this.svg.rect(-i/2,f/2-i/2,i,i,r),this.svg.rect(l-i/2,f/2-i/2,i,i,r);break;case 3:this.svg.rect(a/2+c,1.5*s+i,i,i,r);break;case 4:this.svg.polyline(h,r).transform({translate:[i/2,-i/2],rotate:[0,i/2,c/2]}),this.svg.polyline(h,r).transform({translate:[i/2,f- -i/2],rotate:[0,i/2,c/2],scale:[1,-1]});break;case 5:this.svg.polyline(h,r).transform({translate:[l-i/2,-i/2],rotate:[0,i/2,c/2],scale:[-1,1]}),this.svg.polyline(h,r).transform({translate:[l-i/2,f+i/2],rotate:[0,i/2,c/2],scale:[-1,-1]});break;case 6:this.svg.polyline(h,r).transform({translate:[l/2+i/2,s/2]});break;case 7:this.svg.polyline(h,r).transform({translate:[l-l/2-i/2,s/2],scale:[-1,1]});break;case 8:this.svg.polyline(h,r).transform({translate:[l/2+i/2,f-s/2],scale:[1,-1]});break;case 9:this.svg.polyline(h,r).transform({translate:[l-l/2-i/2,f-s/2],scale:[-1,-1]});break;case 10:this.svg.polyline(h,r).transform({translate:[i/2,f/2-i/2]});break;case 11:this.svg.polyline(h,r).transform({translate:[l-i/2,f/2-i/2],scale:[-1,1]});break;case 12:this.svg.rect(0,0,i,i,r).transform({translate:[i/2,i/2],rotate:[-30,0,0]});break;case 13:this.svg.rect(0,0,i,i,r).transform({scale:[-1,1],translate:[i/2-l,i/2],rotate:[-30,0,0]});break;case 14:this.svg.rect(0,0,i,i,r).transform({translate:[i/2,f/2-i/2-i],rotate:[30,0,i]});break;case 15:this.svg.rect(0,0,i,i,r).transform({scale:[-1,1],translate:[i/2-l,f/2-i/2-i],rotate:[30,0,i]});break;case 16:this.svg.rect(0,0,i,i,r).transform({scale:[1,-1],translate:[i/2,f/2-f-i/2-i],rotate:[30,0,i]});break;case 17:this.svg.rect(0,0,i,i,r).transform({scale:[-1,-1],translate:[i/2-l,f/2-f-i/2-i],rotate:[30,0,i]});break;case 18:this.svg.rect(0,0,i,i,r).transform({scale:[1,-1],translate:[i/2,i/2-f],rotate:[-30,0,0]});break;case 19:this.svg.rect(0,0,i,i,r).transform({scale:[-1,-1],translate:[i/2-l,i/2-f],rotate:[-30,0,0]})}}},GFNa:function(t,e,n){},HtbY:function(t,e,n){"use strict";var r=n("sWw+"),o=n("j/WJ");function i(){return this.width=100,this.height=100,this.svg=o("svg"),this.context=[],this.setAttributes(this.svg,{xmlns:"http://www.w3.org/2000/svg",width:this.width,height:this.height}),this}t.exports=i,i.prototype.currentContext=function(){return this.context[this.context.length-1]||this.svg},i.prototype.end=function(){return this.context.pop(),this},i.prototype.currentNode=function(){var t=this.currentContext();return t.lastChild||t},i.prototype.transform=function(t){return this.currentNode().setAttribute("transform",Object.keys(t).map((function(e){return e+"("+t[e].join(",")+")"})).join(" ")),this},i.prototype.setAttributes=function(t,e){Object.keys(e).forEach((function(n){t.setAttribute(n,e[n])}))},i.prototype.setWidth=function(t){this.svg.setAttribute("width",Math.floor(t))},i.prototype.setHeight=function(t){this.svg.setAttribute("height",Math.floor(t))},i.prototype.toString=function(){return this.svg.toString()},i.prototype.rect=function(t,e,n,i,s){var a=this;if(Array.isArray(t))return t.forEach((function(t){a.rect.apply(a,t.concat(s))})),this;var c=o("rect");return this.currentContext().appendChild(c),this.setAttributes(c,r({x:t,y:e,width:n,height:i},s)),this},i.prototype.circle=function(t,e,n,i){var s=o("circle");return this.currentContext().appendChild(s),this.setAttributes(s,r({cx:t,cy:e,r:n},i)),this},i.prototype.path=function(t,e){var n=o("path");return this.currentContext().appendChild(n),this.setAttributes(n,r({d:t},e)),this},i.prototype.polyline=function(t,e){var n=this;if(Array.isArray(t))return t.forEach((function(t){n.polyline(t,e)})),this;var i=o("polyline");return this.currentContext().appendChild(i),this.setAttributes(i,r({points:t},e)),this},i.prototype.group=function(t){var e=o("g");return this.currentContext().appendChild(e),this.context.push(e),this.setAttributes(e,r({},t)),this}},HteQ:function(t,e){t.exports=require("preact")},Jwrc:function(t,e,n){"use strict";t.exports={hex2rgb:function(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,n,r){return e+e+n+n+r+r}));var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null},rgb2hex:function(t){return"#"+["r","g","b"].map((function(e){return("0"+t[e].toString(16)).slice(-2)})).join("")},rgb2hsl:function(t){var e=t.r,n=t.g,r=t.b;e/=255,n/=255,r/=255;var o,i,s=Math.max(e,n,r),a=Math.min(e,n,r),c=(s+a)/2;if(s===a)o=i=0;else{var h=s-a;switch(i=c>.5?h/(2-s-a):h/(s+a),s){case e:o=(n-r)/h+(n<r?6:0);break;case n:o=(r-e)/h+2;break;case r:o=(e-n)/h+4}o/=6}return{h:o,s:i,l:c}},hsl2rgb:function(t){function e(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}var n,r,o,i=t.h,s=t.s,a=t.l;if(0===s)n=r=o=a;else{var c=a<.5?a*(1+s):a+s-a*s,h=2*a-c;n=e(h,c,i+1/3),r=e(h,c,i),o=e(h,c,i-1/3)}return{r:Math.round(255*n),g:Math.round(255*r),b:Math.round(255*o)}},rgb2rgbString:function(t){return"rgb("+[t.r,t.g,t.b].join(",")+")"}}},QfWi:function(t,e,n){"use strict";n.r(e);var r=n("HteQ"),o=(n("GFNa"),{});function i(t,e){for(var n in e)t[n]=e[n];return t}function s(t,e){return t.rank<e.rank?1:t.rank>e.rank?-1:t.index-e.index}function a(t,e){return t.index=e,t.rank=function(t){return t.props.default?0:(e=t.props.path,c(e).map(h).join(""));var e}(t),t.props}function c(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function h(t){return":"==t.charAt(0)?1+"*+?".indexOf(t.charAt(t.length-1))||4:5}var l=null,u=[],p=[],f={};function d(){var t;return""+((t=l&&l.location?l.location:l&&l.getCurrentLocation?l.getCurrentLocation():"undefined"!=typeof location?location:f).pathname||"")+(t.search||"")}function g(t,e){return void 0===e&&(e=!1),"string"!=typeof t&&t.url&&(e=t.replace,t=t.url),function(t){for(var e=u.length;e--;)if(u[e].canRoute(t))return!0;return!1}(t)&&function(t,e){void 0===e&&(e="push"),l&&l[e]?l[e](t):"undefined"!=typeof history&&history[e+"State"]&&history[e+"State"](null,null,t)}(t,e?"replace":"push"),v(t)}function v(t){for(var e=!1,n=0;n<u.length;n++)!0===u[n].routeTo(t)&&(e=!0);for(var r=p.length;r--;)p[r](t);return e}function y(t){if(t&&t.getAttribute){var e=t.getAttribute("href"),n=t.getAttribute("target");if(e&&e.match(/^\//g)&&(!n||n.match(/^_?self$/i)))return g(e)}}function m(t){if(0==t.button)return y(t.currentTarget||t.target||this),b(t)}function b(t){return t&&(t.stopImmediatePropagation&&t.stopImmediatePropagation(),t.stopPropagation&&t.stopPropagation(),t.preventDefault()),!1}function O(t){if(!(t.ctrlKey||t.metaKey||t.altKey||t.shiftKey||0!==t.button)){var e=t.target;do{if("A"===String(e.nodeName).toUpperCase()&&e.getAttribute("href")){if(e.hasAttribute("native"))return;if(y(e))return b(t)}}while(e=e.parentNode)}}var j=!1;var C=function(t){function e(e){t.call(this,e),e.history&&(l=e.history),this.state={url:e.url||d()},j||("function"==typeof addEventListener&&(l||addEventListener("popstate",(function(){v(d())})),addEventListener("click",O)),j=!0)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.shouldComponentUpdate=function(t){return!0!==t.static||(t.url!==this.props.url||t.onChange!==this.props.onChange)},e.prototype.canRoute=function(t){var e=Object(r.toChildArray)(this.props.children);return this.getMatchingChildren(e,t,!1).length>0},e.prototype.routeTo=function(t){this.setState({url:t});var e=this.canRoute(t);return this.updating||this.forceUpdate(),e},e.prototype.componentWillMount=function(){u.push(this),this.updating=!0},e.prototype.componentDidMount=function(){var t=this;l&&(this.unlisten=l.listen((function(e){t.routeTo(""+(e.pathname||"")+(e.search||""))}))),this.updating=!1},e.prototype.componentWillUnmount=function(){"function"==typeof this.unlisten&&this.unlisten(),u.splice(u.indexOf(this),1)},e.prototype.componentWillUpdate=function(){this.updating=!0},e.prototype.componentDidUpdate=function(){this.updating=!1},e.prototype.getMatchingChildren=function(t,e,n){return t.filter(a).sort(s).map((function(t){var s=function(t,e,n){var r,i=/(?:\?([^#]*))?(#.*)?$/,s=t.match(i),a={};if(s&&s[1])for(var h=s[1].split("&"),l=0;l<h.length;l++){var u=h[l].split("=");a[decodeURIComponent(u[0])]=decodeURIComponent(u.slice(1).join("="))}t=c(t.replace(i,"")),e=c(e||"");for(var p=Math.max(t.length,e.length),f=0;f<p;f++)if(e[f]&&":"===e[f].charAt(0)){var d=e[f].replace(/(^:|[+*?]+$)/g,""),g=(e[f].match(/[+*?]+$/)||o)[0]||"",v=~g.indexOf("+"),y=~g.indexOf("*"),m=t[f]||"";if(!m&&!y&&(g.indexOf("?")<0||v)){r=!1;break}if(a[d]=decodeURIComponent(m),v||y){a[d]=t.slice(f).map(decodeURIComponent).join("/");break}}else if(e[f]!==t[f]){r=!1;break}return(!0===n.default||!1!==r)&&a}(e,t.props.path,t.props);if(s){if(!1!==n){var a={url:e,matches:s};return i(a,s),delete a.ref,delete a.key,Object(r.cloneElement)(t,a)}return t}})).filter(Boolean)},e.prototype.render=function(t,e){var n=t.children,o=t.onChange,i=e.url,s=this.getMatchingChildren(Object(r.toChildArray)(n),i,!0),a=s[0]||null,c=this.previousUrl;return i!==c&&(this.previousUrl=i,"function"==typeof o&&o({router:this,url:i,previous:c,active:s,current:a})),a},e}(r.Component);C.subscribers=p,C.getCurrentUrl=d,C.route=g,C.Router=C,C.Route=function(t){return Object(r.createElement)(t.component,t)},C.Link=function(t){return Object(r.createElement)("a",i({onClick:m},t))};var w=n("UQAG");function k(t,e){for(var n in e)t[n]=e[n];return t}var x,S,P,E,A,T,I,M={EASY:0,INTERMEDIATE:1,HARD:2,E:0,X:1,O:2,boardValues:[1,2,4,8,16,32,64,128,256],winningCounts:[7,56,73,84,146,273,292,448],winningCoordinates:{7:[[0,0],[0,1],[0,2]],56:[[1,0],[1,1],[1,2]],84:[[0,2],[1,1],[2,0]],73:[[0,0],[1,0],[2,0]],146:[[0,1],[1,1],[2,1]],273:[[0,0],[1,1],[2,2]],292:[[0,2],[1,2],[2,2]],448:[[2,0],[2,1],[2,2]]},generateEmptyBoard:function(){return[M.E,M.E,M.E,M.E,M.E,M.E,M.E,M.E,M.E]},getWinningCoordinates:function(t){for(var e=0,n=M.winningCounts.length;e<n;e++){var r=M.winningCounts[e],o=M.winningCounts[e]&t;if(o===r)return M.winningCoordinates[o]}return null},getWinningIndexesFromCoordinates:function(t){return t.map((function(t){return 3*t[0]+t[1]}))},getCounts:function(t){for(var e=0,n=0,r=0,o=0;o<9;o++)t[o]===M.X?e+=M.boardValues[o]:t[o]===M.O?n+=M.boardValues[o]:r+=1;return[r,e,n]},generateState:function(t,e){var n,r=M.getCounts(t),o=M.getWinningCoordinates(r[M.X]),i=M.getWinningCoordinates(r[M.O]),s=o||i||[],a=M.getWinningIndexesFromCoordinates(s),c=!!o||!!i||0===r[M.E],h=c&&!o&&!i,l=c?h?0:10-r[M.E]:null,u=c?h?0:o?l:-l:null,p=c?h?0:i?l:-l:null,f=((n={})[M.X]=u,n[M.O]=p,n);return{lastMoveBy:e,nextPlayer:e===M.X?M.O:M.X,board:t,counts:r,finished:c,xWin:o,oWin:i,winCoordinates:s,winIndexes:a,draw:h,score:f}},stateFromPlayerMove:function(t,e){var n=t.board.slice(0);if(n[e]!==M.E)throw new Error("That place on the board is already taken.");return n[e]=t.nextPlayer,M.generateState(n,t.nextPlayer)},getEmptyPlaceIndicies:function(t){return t.reduce((function(t,e,n){return e===M.E&&t.push(n),t}),[])},getPotentialNextStates:function(t){return M.getEmptyPlaceIndicies(t.board).map((function(e){return M.stateFromPlayerMove(t,e)}))},minimax:function(t){var e=0;return M.getPotentialNextStates(t).forEach((function(t){var n=M.minimax(t);e+=n})),t.finished&&!t.draw&&(t.xWin&&(e+=t.score[M.X]),t.oWin&&(e-=Math.abs(t.score[M.O]))),e},sortForX:function(t,e){return t.minimax-e.minimax},sortForO:function(t,e){return e.minimax-t.minimax},getSortedAINextStates:function(t){return M.getPotentialNextStates(t).map((function(t){return t.minimax=M.minimax(t),t})).sort(M["sortFor"+(t.lastMoveBy===M.X?"X":"O")])},stateFromAIMoveEasy:function(t){var e=M.getEmptyPlaceIndicies(t.board),n=e[Math.floor(Math.random()*e.length)];return M.stateFromPlayerMove(t,n)},stateFromAIMoveIntermediate:function(t){if(9===t.counts[M.E])return M.stateFromAIFirstMove(t);var e=M.getSortedAINextStates(t);return e[1===e.length||100*Math.random()<=40?0:1]},stateFromAIMoveHard:function(t){return 9===t.counts[M.E]?M.stateFromAIFirstMove(t):M.getSortedAINextStates(t)[0]},stateFromAIMove:function(t,e){switch(t){case M.EASY:return M.stateFromAIMoveEasy(e);case M.INTERMEDIATE:return M.stateFromAIMoveIntermediate(e);case M.HARD:return M.stateFromAIMoveHard(e)}},stateFromAIFirstMove:function(t){var e=[0,2,4,6,8],n=e[Math.floor(Math.random()*e.length)];return M.stateFromPlayerMove(t,n)},symbolForBoardSpot:function(t,e){return{0:" ",1:"X",2:"O"}[t.board[e]]},stateBoardToString:function(t){return"\n"+M.symbolForBoardSpot(t,0)+" | "+M.symbolForBoardSpot(t,1)+" | "+M.symbolForBoardSpot(t,2)+"\n---------\n"+M.symbolForBoardSpot(t,3)+" | "+M.symbolForBoardSpot(t,4)+" | "+M.symbolForBoardSpot(t,5)+"\n---------\n"+M.symbolForBoardSpot(t,6)+" | "+M.symbolForBoardSpot(t,7)+" | "+M.symbolForBoardSpot(t,8)+"\n    "}},F=M;function _(){return(_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var W=((x={})[F.EASY]="Easy",x[F.INTERMEDIATE]="Medium",x[F.HARD]="Hard",x),H=((S={})[F.X]="X",S[F.O]="O",S),B={hard:F.HARD,medium:F.INTERMEDIATE,easy:F.EASY},D={x:F.X,o:F.O};var R="tictactoe.fun",X={};"undefined"!=typeof window&&(X=JSON.parse(localStorage.getItem(R)||"{}"));var N=function(t){var e=[];function n(t){for(var n=[],r=0;r<e.length;r++)e[r]===t?t=null:n.push(e[r]);e=n}function r(n,r,o){t=r?n:k(k({},t),n);for(var i=e,s=0;s<i.length;s++)i[s](t,o)}return t=t||{},{action:function(e){function n(t){r(t,!1,e)}return function(){for(var r=arguments,o=[t],i=0;i<arguments.length;i++)o.push(r[i]);var s=e.apply(this,o);if(null!=s)return s.then?s.then(n):n(s)}},setState:r,subscribe:function(t){return e.push(t),function(){n(t)}},unsubscribe:n,getState:function(){return t}}}(_({lastUri:null,lastPlayerChoice:F.X,lastModeChoice:F.INTERMEDIATE,games:{},stats:(I={},I[F.EASY]=(P={},P[F.X]={win:0,loss:0,tie:0},P[F.O]={win:0,loss:0,tie:0},P),I[F.INTERMEDIATE]=(E={},E[F.X]={win:0,loss:0,tie:0},E[F.O]={win:0,loss:0,tie:0},E),I[F.HARD]=(A={},A[F.X]={win:0,loss:0,tie:0},A[F.O]={win:0,loss:0,tie:0},A),I.remote=(T={},T[F.X]={win:0,loss:0,tie:0},T[F.O]={win:0,loss:0,tie:0},T),I)},X)),U=function(t){return{navigate:function(t,e){return{lastUri:e.url}},setLastPlayerChoice:function(t,e){if(H[e])return{lastPlayerChoice:e}},setLastModeChoice:function(t,e){if(W[e])return{lastModeChoice:e}},newGame:function(t,e,n){var r=F.generateState(F.generateEmptyBoard());n!==F.X&&(r=F.stateFromAIFirstMove(r));var o=_({},t.games);return o[e]=r,{games:o}},clearGameStateFromParams:function(t,e,n){var r=function(t,e){return"local-"+t+"-"+e}(e,n);this.clearGameState(r)},clearGameState:function(t,e){var n=_({},t.games);return n[e]=F.generateState(F.generateEmptyBoard()),{games:n}},moveForPlayer:function(t,e,n){var r=_({},t.games);return r[e]=F.stateFromPlayerMove(r[e],n),{games:r}},moveForComputer:function(t,e,n){var r=_({},t.games);return r[e]=F.stateFromAIMove(n,r[e]),{games:r}},localSaveStats:function(t,e){var n=parseInt(e.split("-")[1],10),r=parseInt(e.split("-")[2],10),o=t.games[e],i=_({},t.stats),s=o.draw,a=n===F.X?!!o.xWin:!!o.oWin;return s?i[r][n].tie+=1:a?i[r][n].win+=1:i[r][n].loss+=1,{stats:i}}}};"undefined"!=typeof window&&(N.subscribe((function(t){localStorage.setItem(R,JSON.stringify(t))})),window.addEventListener("storage",(function(t){if(t.key===R){var e=JSON.parse(localStorage.getItem(R)||"{}");N.setState(e)}}),!1));var G=n("jn/J"),Y=n.n(G);var L=function(){return Object(r.h)("header",null,Object(r.h)("h1",null,"TicTacToe.Fun"))},q=function(){return Object(r.h)("footer",null,Object(r.h)("p",null,Object(r.h)("a",{href:"https://fresh.codes"},Object(r.h)("img",{src:"/assets/fresh-codes.svg",alt:"Fresh Codes",width:"200"}))))};var K=function(t){var e,n;function o(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).handleChange=function(t){e.props.setLastPlayerChoice(parseInt(t.target.value,10))},e}return n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,o.prototype.render=function(t){var e=t.lastPlayerChoice,n=Object.entries(H).map((function(t){var n=t[0],o=t[1];return n=parseInt(n,10),Object(r.h)("option",{key:n,value:n,selected:e===n},o)}));return Object(r.h)("div",{class:"player-choice"},Object(r.h)("label",null,Object(r.h)("span",null,"Play as:"),Object(r.h)("select",{name:"player",onchange:this.handleChange},n)))},o}(r.Component),J=Object(w.connect)("lastPlayerChoice",U)(K);var Q=function(t){var e,n;function o(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).handleChange=function(t){e.props.setLastModeChoice(parseInt(t.target.value,10))},e}return n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,o.prototype.render=function(t){var e=t.lastModeChoice,n=Object.entries(W).map((function(t){var n=t[0],o=t[1];return n=parseInt(n,10),Object(r.h)("option",{key:n,value:n,selected:e===n},o)}));return Object(r.h)("div",{class:"mode-choice"},Object(r.h)("label",null,Object(r.h)("span",null,"Computer difficulty:"),Object(r.h)("select",{name:"mode",onchange:this.handleChange},n)))},o}(r.Component),$=Object(w.connect)("lastModeChoice",U)(Q);var V=function(t){var e,n;function o(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).startLocalGame=function(t){var n=e.props.lastPlayerChoice,r=e.props.lastModeChoice,o=H[n].toLowerCase(),i=W[r].toLowerCase();e.props.clearGameStateFromParams(n,r),g("/local/"+o+"/"+i)},e.startRemoteGame=function(t){g("/host")},e}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var i=o.prototype;return i.componentDidMount=function(){var t=window.location.pathname,e=this.props.lastUri;e&&e!==t&&g(e)},i.render=function(){return Object(r.h)("main",null,Object(r.h)("div",{class:"title-screen-local-game"},Object(r.h)("p",null,"Play against the computer."),Object(r.h)(J,null),Object(r.h)($,null),Object(r.h)("p",null,Object(r.h)("button",{onclick:this.startLocalGame},"Play"))),Object(r.h)("div",{class:"title-screen-remote-game"},Object(r.h)("p",null,"You can also play against a friend."),Object(r.h)("p",null,Object(r.h)("button",{onclick:this.startRemoteGame},"Start Remote Game"))),Object(r.h)("p",null,"Check out your ",Object(r.h)("a",{href:"/stats"},"stats"),"."))},o}(r.Component);var z=function(t){var e,n;function o(){for(var e,n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=t.call.apply(t,[this].concat(o))||this).textMap=((e={})[F.E]=" ",e[F.X]="X",e[F.O]="O",e),n.click=function(t){var e=t.target.closest("td"),r=parseInt(e.getAttribute("data-index"),10),o=0===parseInt(e.getAttribute("data-state"),10);n.props.click({td:e,boardIndex:r,isEmpty:o})},n}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var i=o.prototype;return i.renderCell=function(t,e){var n=e+3*t,o=this.props.board[n],i="Cell "+e+", "+t,s=this.textMap[o],a=this.props.win.indexOf(n)>-1?"W":"";return Object(r.h)("td",{"data-index":n,"data-state":o,class:a},Object(r.h)("div",null,Object(r.h)("button",{type:"button",label:i,onClick:this.click},s)))},i.renderRow=function(t){var e=this,n=[0,1,2].map((function(n){return e.renderCell(t,n)}));return Object(r.h)("tr",null,n)},i.render=function(){var t=this,e=[0,1,2].map((function(e){return t.renderRow(e)}));return Object(r.h)("div",{class:"board"},Object(r.h)("table",null,Object(r.h)("caption",null,"Game Board"),Object(r.h)("tbody",null,e)))},o}(r.Component);function Z(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var tt=function(t){var e,n;function o(e){var n;return(n=t.call(this,e)||this).restart=function(t){n.finished=!1,n.props.newGame(n.gameKey,n.player)},n.newgame=function(t){n.props.clearGameState(n.gameKey),g("/")},n.boardClick=function(t){n.game.finished||n.game.nextPlayer===n.player&&(t.isEmpty||alert("This space is already taken"),n.props.moveForPlayer(n.gameKey,t.boardIndex),window.requestAnimationFrame((function(){n.checkAndTakeComputersTurn()})))},n.state={thinking:!1},n.player=D[e.player.toLowerCase()],n.mode=B[e.mode.toLowerCase()],n.gameKey="local-"+n.player+"-"+n.mode,n.redirectIfInvalidSettings(),n}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var i,s,a,c=o.prototype;return c.redirectIfInvalidSettings=function(){void 0!==this.player&&void 0!==this.mode||g("/")},c.componentDidUpdate=function(){!this.finished&&this.game.finished&&this.onfinish()},c.onfinish=function(){this.props.localSaveStats(this.gameKey)},c.componentDidMount=function(){this.game?(this.finished=this.game.finished,this.checkAndTakeComputersTurn()):this.restart()},c.checkAndTakeComputersTurn=function(){var t=this;this.game&&!this.game.finished&&this.game.nextPlayer!==this.player&&(this.setState({thinking:!0}),window.requestAnimationFrame((function(){t.props.moveForComputer(t.gameKey,t.mode),t.setState({thinking:!1})})))},c.status=function(){return this.game&&this.game.finished?this.game.draw?"Tie":this.player===F.X&&this.game.xWin||this.player===F.O&&this.game.oWin?"You won":"You lost":this.state.thinking?"Thinking...":"Your turn..."},c.render=function(t){var e=t.player,n=t.mode,o=this.game?Object(r.h)(z,{win:this.game.winIndexes,board:this.game.board,click:this.boardClick}):Object(r.h)("div",null);return Object(r.h)("main",null,Object(r.h)("p",null,"You are playing as ",Object(r.h)("strong",null,e.toUpperCase())," against the computer on ",Object(r.h)("strong",null,n.toLowerCase())," mode."),Object(r.h)("div",{class:"board-wrapper"},o,Object(r.h)("span",{"aria-live":"polite","aria-atomic":"true",class:"status"},this.status())),Object(r.h)("p",null,Object(r.h)("button",{onclick:this.restart},"Restart"),Object(r.h)("button",{onclick:this.newgame},"New Game")))},i=o,(s=[{key:"game",get:function(){return this.props.games[this.gameKey]}}])&&Z(i.prototype,s),a&&Z(i,a),o}(r.Component),et={on:function(t,e){this._events||(this._events={}),this._events[t]||(this._events[t]=[]),this._events[t].push(e)},off:function(t,e){var n=this._events&&this._events[t];if(n)for(var r=0;r<n.length;r++)n[r]===e&&n.splice(r--,1)},trigger:function(t){for(var e=this,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];this._events&&this._events[t]&&this._events[t].forEach((function(t){return t.apply(e,r)}))}},nt=function(){};function rt(){return(rt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var ot=function(){function t(){this.peer=new nt,this.peer.on("open",this.onPeerOpen.bind(this)),this.peer.on("close",this.onPeerClose.bind(this)),this.peer.on("connection",this.onPeerConnect.bind(this)),this.peer.on("disconnected",this.onPeerDisconnect.bind(this)),this.peer.on("error",this.onPeerError.bind(this))}var e=t.prototype;return e.connectToHost=function(t){this.hostId=t,this.connection=this.peer.connect(this.hostId),this.connection.on("open",this.onFriendToHostConnectionOpen.bind(this)),this.connection.on("data",this.onFriendToHostConnectionData.bind(this)),this.connection.on("close",this.onFriendToHostConnectionClose.bind(this)),this.connection.on("error",this.onFriendToHostConnectionError.bind(this))},e.onPeerOpen=function(t){console.debug("Connected with peer server and got the ID: "+t),this.peerId=t,this.trigger("open")},e.onPeerClose=function(){console.debug("Peer closed")},e.onPeerConnect=function(t){this.connection?console.debug("User is already connected"):(this.connection=t,this.connection.on("open",this.onHostToFriendConnectionOpen.bind(this)),this.connection.on("data",this.onHostToFriendConnectionData.bind(this)),this.connection.on("close",this.onHostToFriendConnectionClose.bind(this)),this.connection.on("error",this.onHostToFriendConnectionError.bind(this)))},e.onPeerDisconnect=function(){console.debug("Peer disconnected")},e.onPeerError=function(t){console.error("Error from peerjs",t),this.trigger("error",t)},e.onFriendToHostConnectionOpen=function(){console.debug("Connected to host"),this.trigger("connected")},e.onFriendToHostConnectionData=function(t){console.debug("Received data from host",t)},e.onFriendToHostConnectionClose=function(){console.debug("Connected to host closed")},e.onFriendToHostConnectionError=function(t){console.error("Connect to host error",t),this.trigger("error",t)},e.onHostToFriendConnectionOpen=function(){console.debug("Connected to friend"),this.trigger("connected")},e.onHostToFriendConnectionData=function(t){console.debug("Received data from friend",t)},e.onHostToFriendConnectionClose=function(){console.debug("Connected to friend closed")},e.onHostToFriendConnectionError=function(t){console.error("Connect to friend error",t),this.trigger("error",t)},t}();rt(ot.prototype,et);var it=function(t){var e,n;function r(e){var n;return(n=t.call(this)||this).player=e,n.game=F.generateState(F.generateEmptyBoard(),F.O),n}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=r.prototype;return o.move=function(t){this.game=F.stateFromPlayerMove(this.game,t),this.connection.send(this.game),this.trigger("updatedGameState",this.game)},o.restart=function(){this.game=F.generateState(F.generateEmptyBoard(),F.O),this.connection.send(this.game),this.trigger("updatedGameState",this.game)},o.onHostToFriendConnectionData=function(e){t.prototype.onHostToFriendConnectionData.call(this,e),this.game=e,this.trigger("updatedGameState",this.game)},o.onFriendToHostConnectionData=function(e){t.prototype.onFriendToHostConnectionData.call(this,e),this.game=e,this.trigger("updatedGameState",this.game)},r}(ot);function st(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var at=function(t){var e,n;function o(e){var n;return(n=t.call(this,e)||this).restart=function(t){n.controller.restart()},n.newgame=function(t){g("/")},n.boardClick=function(t){console.log("BoardClick",t,n.game),n.game.finished||n.game.nextPlayer===n.player&&(t.isEmpty||alert("This space is already taken"),n.controller.move(t.boardIndex))},n.state={connectedToPeer:!1,connectedToPlayer:!1,waiting:!1,error:!1,win:[],board:F.generateEmptyBoard()},"undefined"==typeof window?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n):(n.controller=new it(F.X),n.controller.on("open",(function(){return n.setState({connectedToPeer:!0})})),n.controller.on("connected",(function(){return n.setState({connectedToPlayer:!0})})),n.controller.on("updatedGameState",(function(t){var e=n.game.nextPlayer!==n.player;n.setState({waiting:e,win:t.winIndexes,board:t.board})})),n)}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var i,s,a,c=o.prototype;return c.status=function(){return this.game&&this.game.finished?this.game.draw?"Tie":this.player===F.X&&this.game.xWin||this.player===F.O&&this.game.oWin?"You won":"You lost":this.state.waiting?"Waiting...":"Your turn..."},c.renderConnecting=function(){return Object(r.h)("main",null,Object(r.h)("p",null,"Connecting..."),this.renderButtons())},c.renderWaitingForPlayer=function(){var t=window.location.href.replace("/host","/remote?"+this.controller.peer.id),e=Object(r.h)("p",null,"Copy and paste this link to a friend: ",Object(r.h)("input",{type:"text",value:t,readonly:!0}));return Object(r.h)("main",null,Object(r.h)("p",null,"Waiting for another player..."),e,this.renderButtons())},c.renderBoard=function(){var t=this.state.connectedToPlayer?Object(r.h)(z,{win:this.state.win,board:this.state.board,click:this.boardClick}):Object(r.h)("div",null);return Object(r.h)("main",null,Object(r.h)("p",null,"You are playing as X."),Object(r.h)("div",{class:"board-wrapper"},t,Object(r.h)("span",{"aria-live":"polite","aria-atomic":"true",class:"status"},this.status())),this.renderButtons())},c.renderButtons=function(){var t=this.game.finished?Object(r.h)("button",{onclick:this.restart},"Restart"):"";return Object(r.h)("p",null,t,Object(r.h)("button",{onclick:this.newgame},"New Game"))},c.render=function(t,e){return e.connectedToPeer?e.connectedToPlayer?this.renderBoard():this.renderWaitingForPlayer():this.renderConnecting()},i=o,(s=[{key:"player",get:function(){return this.controller.player}},{key:"game",get:function(){return this.controller.game}}])&&st(i.prototype,s),a&&st(i,a),o}(r.Component);function ct(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ht=function(t){var e,n;function o(e){var n;return(n=t.call(this,e)||this).boardClick=function(t){console.log("BoardClick",t,n.game),n.game.finished||n.game.nextPlayer===n.player&&(t.isEmpty||alert("This space is already taken"),n.controller.move(t.boardIndex))},n.restart=function(t){n.controller.restart()},n.newgame=function(t){g("/")},n.state={connectedToPeer:!1,connectedToPlayer:!1,waiting:!0,error:!1,win:[],board:F.generateEmptyBoard()},"undefined"==typeof window?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n):(n.hostId=window.location.search.replace("?",""),n.controller=new it(F.O),n.controller.on("open",(function(){n.setState({connectedToPeer:!0}),n.controller.connectToHost(n.hostId)})),n.controller.on("connected",(function(){return n.setState({connectedToPlayer:!0})})),n.controller.on("updatedGameState",(function(t){var e=n.game.nextPlayer!==n.player;n.setState({waiting:e,win:t.winIndexes,board:t.board})})),n)}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var i,s,a,c=o.prototype;return c.status=function(){return this.game&&this.game.finished?this.game.draw?"Tie":this.player===F.X&&this.game.xWin||this.player===F.O&&this.game.oWin?"You won":"You lost":this.state.waiting?"Waiting...":"Your turn..."},c.renderConnecting=function(){return Object(r.h)("main",null,Object(r.h)("p",null,"Connecting..."),this.renderButtons())},c.renderWaitingForPlayer=function(){return Object(r.h)("main",null,Object(r.h)("p",null,"Connecting to player..."),this.renderButtons())},c.renderBoard=function(){var t=this.state.connectedToPlayer?Object(r.h)(z,{win:this.state.win,board:this.state.board,click:this.boardClick}):Object(r.h)("div",null);return Object(r.h)("main",null,Object(r.h)("p",null,"You are playing as O."),Object(r.h)("div",{class:"board-wrapper"},t,Object(r.h)("span",{class:"status"},this.status())),this.renderButtons())},c.renderButtons=function(){var t=this.game.finished?Object(r.h)("button",{onclick:this.restart},"Restart"):"";return Object(r.h)("p",null,t,Object(r.h)("button",{onclick:this.newgame},"New Game"))},c.render=function(t,e){return e.connectedToPeer?e.connectedToPlayer?this.renderBoard():this.renderWaitingForPlayer():this.renderConnecting()},i=o,(s=[{key:"player",get:function(){return this.controller.player}},{key:"game",get:function(){return this.controller.game}}])&&ct(i.prototype,s),a&&ct(i,a),o}(r.Component);var lt=function(t){var e,n;function o(){return t.apply(this,arguments)||this}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var i=o.prototype;return i.renderRow=function(t,e,n){return Object(r.h)("tr",null,Object(r.h)("td",{class:"mode"},W[t]),Object(r.h)("td",{class:"player"},H[e]),Object(r.h)("td",{class:"win"},n.win),Object(r.h)("td",{class:"loss"},n.loss),Object(r.h)("td",{class:"tie"},n.tie))},i.render=function(t){var e=this,n=t.stats,o=[[F.EASY,F.X],[F.EASY,F.O],[F.INTERMEDIATE,F.X],[F.INTERMEDIATE,F.O],[F.HARD,F.X],[F.HARD,F.O]].map((function(t){var r=t[0],o=t[1];return e.renderRow(r,o,n[r][o])}));return Object(r.h)("main",{class:"stats"},Object(r.h)("table",{class:"stats"},Object(r.h)("caption",null,"Historical stats of wins, losses and ties."),Object(r.h)("thead",null,Object(r.h)("tr",null,Object(r.h)("th",{class:"mode"},"Mode"),Object(r.h)("th",{class:"player"},"Player"),Object(r.h)("th",{class:"win"},"Wins"),Object(r.h)("th",{class:"loss"},"Losses"),Object(r.h)("th",{class:"loss"},"Ties"))),Object(r.h)("tbody",null,o)),Object(r.h)("p",null,Object(r.h)("a",{href:"/"},"Back home")))},o}(r.Component),ut=Object(w.connect)("stats")(lt);function pt(){return(pt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var ft=function(t){var e,n;function o(){return t.apply(this,arguments)||this}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var i=o.prototype;return i.componentDidMount=function(){var t;t=Y.a.generate(),document.body.style.backgroundImage=t.toDataUrl(),document.documentElement.style.backgroundColor=t.color},i.render=function(){return Object(r.h)("div",{id:"app"},Object(r.h)(L,null),Object(r.h)(C,{onChange:this.props.navigate},Object(r.h)(V,pt({path:"/"},this.props)),Object(r.h)(tt,pt({path:"/local/:player/:mode"},this.props)),Object(r.h)(at,{path:"/host"}),Object(r.h)(ht,{path:"/remote"}),Object(r.h)(ut,{path:"/stats"})),Object(r.h)(q,null))},o}(r.Component),dt=Object(w.connect)("lastUri,lastPlayerChoice,lastModeChoice,games",U)(ft);e.default=function(){return Object(r.h)(w.Provider,{store:N},Object(r.h)(dt,null))}},UQAG:function(t,e,n){var r=n("HteQ");function o(t,e){for(var n in e)t[n]=e[n];return t}function i(t){this.getChildContext=function(){return{store:t.store}}}i.prototype.render=function(t){return t.children&&t.children[0]||t.children},e.connect=function(t,e){var n;return"function"!=typeof t&&("string"==typeof(n=t||{})&&(n=n.split(/\s*,\s*/)),t=function(t){for(var e={},r=0;r<n.length;r++)e[n[r]]=t[n[r]];return e}),function(n){function i(i,s){var a=this,c=s.store,h=t(c?c.getState():{},i),l=e?function(t,e){"function"==typeof t&&(t=t(e));var n={};for(var r in t)n[r]=e.action(t[r]);return n}(e,c):{store:c},u=function(){var e=t(c?c.getState():{},i);for(var n in e)if(e[n]!==h[n])return h=e,a.setState({});for(var r in h)if(!(r in e))return h=e,a.setState({})};this.componentWillReceiveProps=function(t){i=t,u()},this.componentDidMount=function(){c.subscribe(u)},this.componentWillUnmount=function(){c.unsubscribe(u)},this.render=function(t){return r.h(n,o(o(o({},l),t),h))}}return(i.prototype=new r.Component).constructor=i}},e.Provider=i},"j/WJ":function(t,e,n){"use strict";var r=t.exports=function(t){return this instanceof r?(this.tagName=t,this.attributes=Object.create(null),this.children=[],this.lastChild=null,this):new r(t)};r.prototype.appendChild=function(t){return this.children.push(t),this.lastChild=t,this},r.prototype.setAttribute=function(t,e){return this.attributes[t]=e,this},r.prototype.toString=function(){var t=this;return["<",t.tagName,Object.keys(t.attributes).map((function(e){return[" ",e,'="',t.attributes[e],'"'].join("")})).join(""),">",t.children.map((function(t){return t.toString()})).join(""),"</",t.tagName,">"].join("")}},"jn/J":function(t,e,n){!function(e){"use strict";var r=n("84ms");function o(t){return function(e,n){return"object"==typeof e&&(n=e,e=null),null==e&&(e=(new Date).toString()),n||(n={}),t.call(this,e,n)}}var i=t.exports={generate:o((function(t,e){return new r(t,e)}))};e&&(e.fn.geopattern=o((function(t,n){return this.each((function(){var r=e(this).attr("data-title-sha");r&&(n=e.extend({hash:r},n));var o=i.generate(t,n);e(this).css("background-image",o.toDataUrl())}))})))}("undefined"!=typeof jQuery?jQuery:null)},"sWw+":function(t,e){var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString;function o(t){if(!t||"[object Object]"!==r.call(t)||t.nodeType||t.setInterval)return!1;var e,o=n.call(t,"constructor"),i=n.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!o&&!i)return!1;for(e in t);return void 0===e||n.call(t,e)}t.exports=function t(){var e,n,r,i,s,a,c=arguments[0]||{},h=1,l=arguments.length,u=!1;for("boolean"==typeof c&&(u=c,c=arguments[1]||{},h=2),"object"!=typeof c&&"function"!=typeof c&&(c={});h<l;h++)if(null!=(e=arguments[h]))for(n in e)r=c[n],c!==(i=e[n])&&(u&&i&&(o(i)||(s=Array.isArray(i)))?(s?(s=!1,a=r&&Array.isArray(r)?r:[]):a=r&&o(r)?r:{},c[n]=t(u,a,i)):void 0!==i&&(c[n]=i));return c}},x6h6:function(t,e,n){"use strict";function r(){var t=1732584193,e=4023233417,n=2562383102,r=271733878,o=3285377520,i=new Uint32Array(80),s=0,a=24,c=0;function h(){for(var a=16;a<80;a++){var c=i[a-3]^i[a-8]^i[a-14]^i[a-16];i[a]=c<<1|c>>>31}var h,l,u=t,p=e,f=n,d=r,g=o;for(a=0;a<80;a++){a<20?(h=d^p&(f^d),l=1518500249):a<40?(h=p^f^d,l=1859775393):a<60?(h=p&f|d&(p|f),l=2400959708):(h=p^f^d,l=3395469782);var v=(u<<5|u>>>27)+h+g+l+(0|i[a]);g=d,d=f,f=p<<30|p>>>2,p=u,u=v}for(t=t+u|0,e=e+p|0,n=n+f|0,r=r+d|0,o=o+g|0,s=0,a=0;a<16;a++)i[a]=0}function l(t){i[s]|=(255&t)<<a,a?a-=8:(s++,a=24),16===s&&h()}function u(t){for(var e="",n=28;n>=0;n-=4)e+=(t>>n&15).toString(16);return e}return{update:function(t){if("string"==typeof t)return function(t){var e=t.length;c+=8*e;for(var n=0;n<e;n++)l(t.charCodeAt(n))}(t);var e=t.length;c+=8*e;for(var n=0;n<e;n++)l(t[n])},digest:function(){l(128),(s>14||14===s&&a<24)&&h(),s=14,a=24,l(0),l(0),l(c>0xffffffffff?c/1099511627776:0),l(c>4294967295?c/4294967296:0);for(var i=24;i>=0;i-=8)l(c>>i);return u(t)+u(e)+u(n)+u(r)+u(o)}}}t.exports=function(t){if(void 0===t)return r();var e=r();return e.update(t),e.digest()}}});
//# sourceMappingURL=ssr-bundle.js.map