module.exports=function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/",r(r.s="QfWi")}({"84ms":function(t,e,r){"use strict";var n=r("sWw+"),o=r("Jwrc"),s=r("x6h6"),i=r("HtbY"),a={baseColor:"#933c3c"},h=["octogons","overlappingCircles","plusSigns","xes","sineWaves","hexagons","overlappingRings","plaid","triangles","squares","concentricCircles","diamonds","tessellation","nestedSquares","mosaicSquares","chevrons"];function c(t,e,r){return parseInt(t.substr(e,r||1),16)}function l(t,e,r,n,o){return(parseFloat(t)-e)*(o-n)/(r-e)+n}function u(t){return t%2==0?"#ddd":"#222"}function p(t){return l(t,0,15,.02,.15)}var d=t.exports=function(t,e){return this.opts=n({},a,e),this.hash=e.hash||s(t),this.svg=new i,this.generateBackground(),this.generatePattern(),this};function g(t){return[[t,0,t,3*t],[0,t,3*t,t]]}function f(t){return[0,0,t,t,0,t,0,0].join(",")}function m(t,e,r,n,o){var s=f(n),i=p(o[0]),a=u(o[0]),h={stroke:"#000","stroke-opacity":.02,"fill-opacity":i,fill:a};t.polyline(s,h).transform({translate:[e+n,r],scale:[-1,1]}),t.polyline(s,h).transform({translate:[e+n,r+2*n],scale:[1,-1]}),h={stroke:"#000","stroke-opacity":.02,"fill-opacity":i=p(o[1]),fill:a=u(o[1])},t.polyline(s,h).transform({translate:[e+n,r+2*n],scale:[-1,-1]}),t.polyline(s,h).transform({translate:[e+n,r],scale:[1,1]})}function v(t,e,r,n,o){var s=p(o),i=u(o),a=f(n),h={stroke:"#000","stroke-opacity":.02,"fill-opacity":s,fill:i};t.polyline(a,h).transform({translate:[e,r+n],scale:[1,-1]}),t.polyline(a,h).transform({translate:[e+2*n,r+n],scale:[-1,-1]}),t.polyline(a,h).transform({translate:[e,r+n],scale:[1,1]}),t.polyline(a,h).transform({translate:[e+2*n,r+n],scale:[-1,1]})}d.prototype.toSvg=function(){return this.svg.toString()},d.prototype.toString=function(){return this.toSvg()},d.prototype.toBase64=function(){var t=this.toSvg();return"undefined"!=typeof window&&"function"==typeof window.btoa?window.btoa(t):new Buffer(t).toString("base64")},d.prototype.toDataUri=function(){return"data:image/svg+xml;base64,"+this.toBase64()},d.prototype.toDataUrl=function(){return'url("'+this.toDataUri()+'")'},d.prototype.generateBackground=function(){var t,e,r,n;this.opts.color?r=o.hex2rgb(this.opts.color):(e=l(c(this.hash,14,3),0,4095,0,359),n=c(this.hash,17),(t=o.rgb2hsl(o.hex2rgb(this.opts.baseColor))).h=(360*t.h-e+360)%360/360,t.s=n%2==0?Math.min(1,(100*t.s+n)/100):Math.max(0,(100*t.s-n)/100),r=o.hsl2rgb(t)),this.color=o.rgb2hex(r),this.svg.rect(0,0,"100%","100%",{fill:o.rgb2rgbString(r)})},d.prototype.generatePattern=function(){var t=this.opts.generator;if(t){if(h.indexOf(t)<0)throw new Error("The generator "+t+" does not exist.")}else t=h[c(this.hash,20)];return this["geo"+t.slice(0,1).toUpperCase()+t.slice(1)]()},d.prototype.geoHexagons=function(){var t,e,r,n,o,s,i,a=l(c(this.hash,0),0,15,8,60),h=a*Math.sqrt(3),d=2*a,g=function(t){var e=t,r=e/2,n=Math.sin(60*Math.PI/180)*e;return[0,n,r,0,r+e,0,2*e,n,r+e,2*n,r,2*n,0,n].join(",")}(a);for(this.svg.setWidth(3*d+3*a),this.svg.setHeight(6*h),e=0,i=0;i<6;i++)for(s=0;s<6;s++)t=s%2==0?i*h:i*h+h/2,r=p(o=c(this.hash,e)),n={fill:u(o),"fill-opacity":r,stroke:"#000","stroke-opacity":.02},this.svg.polyline(g,n).transform({translate:[s*a*1.5-d/2,t-h/2]}),0===s&&this.svg.polyline(g,n).transform({translate:[6*a*1.5-d/2,t-h/2]}),0===i&&(t=s%2==0?6*h:6*h+h/2,this.svg.polyline(g,n).transform({translate:[s*a*1.5-d/2,t-h/2]})),0===s&&0===i&&this.svg.polyline(g,n).transform({translate:[6*a*1.5-d/2,5*h+h/2]}),e++},d.prototype.geoSineWaves=function(){var t,e,r,n,o,s,i=Math.floor(l(c(this.hash,0),0,15,100,400)),a=Math.floor(l(c(this.hash,1),0,15,30,100)),h=Math.floor(l(c(this.hash,2),0,15,3,30));for(this.svg.setWidth(i),this.svg.setHeight(36*h),t=0;t<36;t++)e=p(o=c(this.hash,t)),n={fill:"none",stroke:u(o),opacity:e,"stroke-width":h+"px"},r="M0 "+a+" C "+(s=i/4*.7)+" 0, "+(i/2-s)+" 0, "+i/2+" "+a+" S "+(i-s)+" "+2*a+", "+i+" "+a+" S "+(1.5*i-s)+" 0, "+1.5*i+", "+a,this.svg.path(r,n).transform({translate:[-i/4,h*t-1.5*a]}),this.svg.path(r,n).transform({translate:[-i/4,h*t-1.5*a+36*h]})},d.prototype.geoChevrons=function(){var t,e,r,n,o,s,i,a,h,d=l(c(this.hash,0),0,15,30,80),g=l(c(this.hash,0),0,15,30,80),f=[[0,0,(t=d)/2,(e=g)-(r=.66*e),t/2,e,0,r,0,0],[t/2,e-r,t,0,t,r,t/2,e,t/2,e-r]].map((function(t){return t.join(",")}));for(this.svg.setWidth(6*d),this.svg.setHeight(6*g*.66),n=0,h=0;h<6;h++)for(a=0;a<6;a++)o=p(i=c(this.hash,n)),s={stroke:"#000","stroke-opacity":.02,fill:u(i),"fill-opacity":o,"stroke-width":1},this.svg.group(s).transform({translate:[a*d,h*g*.66-g/2]}).polyline(f).end(),0===h&&this.svg.group(s).transform({translate:[a*d,6*g*.66-g/2]}).polyline(f).end(),n+=1},d.prototype.geoPlusSigns=function(){var t,e,r,n,o,s,i,a=l(c(this.hash,0),0,15,10,25),h=3*a,d=g(a);for(this.svg.setWidth(12*a),this.svg.setHeight(12*a),e=0,i=0;i<6;i++)for(s=0;s<6;s++)r=p(o=c(this.hash,e)),t=i%2==0?0:1,n={fill:u(o),stroke:"#000","stroke-opacity":.02,"fill-opacity":r},this.svg.group(n).transform({translate:[s*h-s*a+t*a-a,i*h-i*a-h/2]}).rect(d).end(),0===s&&this.svg.group(n).transform({translate:[4*h-s*a+t*a-a,i*h-i*a-h/2]}).rect(d).end(),0===i&&this.svg.group(n).transform({translate:[s*h-s*a+t*a-a,4*h-i*a-h/2]}).rect(d).end(),0===s&&0===i&&this.svg.group(n).transform({translate:[4*h-s*a+t*a-a,4*h-i*a-h/2]}).rect(d).end(),e++},d.prototype.geoXes=function(){var t,e,r,n,o,s,i,a=l(c(this.hash,0),0,15,10,25),h=g(a),d=3*a*.943;for(this.svg.setWidth(3*d),this.svg.setHeight(3*d),e=0,i=0;i<6;i++)for(s=0;s<6;s++)r=p(o=c(this.hash,e)),t=s%2==0?i*d-.5*d:i*d-.5*d+d/4,n={fill:u(o),opacity:r},this.svg.group(n).transform({translate:[s*d/2-d/2,t-i*d/2],rotate:[45,d/2,d/2]}).rect(h).end(),0===s&&this.svg.group(n).transform({translate:[6*d/2-d/2,t-i*d/2],rotate:[45,d/2,d/2]}).rect(h).end(),0===i&&(t=s%2==0?6*d-d/2:6*d-d/2+d/4,this.svg.group(n).transform({translate:[s*d/2-d/2,t-6*d/2],rotate:[45,d/2,d/2]}).rect(h).end()),5===i&&this.svg.group(n).transform({translate:[s*d/2-d/2,t-11*d/2],rotate:[45,d/2,d/2]}).rect(h).end(),0===s&&0===i&&this.svg.group(n).transform({translate:[6*d/2-d/2,t-6*d/2],rotate:[45,d/2,d/2]}).rect(h).end(),e++},d.prototype.geoOverlappingCircles=function(){var t,e,r,n,o,s,i=l(c(this.hash,0),0,15,25,200)/2;for(this.svg.setWidth(6*i),this.svg.setHeight(6*i),t=0,s=0;s<6;s++)for(o=0;o<6;o++)e=p(n=c(this.hash,t)),r={fill:u(n),opacity:e},this.svg.circle(o*i,s*i,i,r),0===o&&this.svg.circle(6*i,s*i,i,r),0===s&&this.svg.circle(o*i,6*i,i,r),0===o&&0===s&&this.svg.circle(6*i,6*i,i,r),t++},d.prototype.geoOctogons=function(){var t,e,r,n,o,s,i=l(c(this.hash,0),0,15,10,60),a=function(t){var e=.33*t;return[e,0,t-e,0,t,e,t,t-e,t-e,t,e,t,0,t-e,0,e,e,0].join(",")}(i);for(this.svg.setWidth(6*i),this.svg.setHeight(6*i),e=0,s=0;s<6;s++)for(o=0;o<6;o++)r=p(n=c(this.hash,e)),t=u(n),this.svg.polyline(a,{fill:t,"fill-opacity":r,stroke:"#000","stroke-opacity":.02}).transform({translate:[o*i,s*i]}),e+=1},d.prototype.geoSquares=function(){var t,e,r,n,o,s,i=l(c(this.hash,0),0,15,10,60);for(this.svg.setWidth(6*i),this.svg.setHeight(6*i),e=0,s=0;s<6;s++)for(o=0;o<6;o++)r=p(n=c(this.hash,e)),t=u(n),this.svg.rect(o*i,s*i,i,i,{fill:t,"fill-opacity":r,stroke:"#000","stroke-opacity":.02}),e+=1},d.prototype.geoConcentricCircles=function(){var t,e,r,n,o,s,i=l(c(this.hash,0),0,15,10,60),a=i/5;for(this.svg.setWidth(6*(i+a)),this.svg.setHeight(6*(i+a)),e=0,s=0;s<6;s++)for(o=0;o<6;o++)r=p(n=c(this.hash,e)),t=u(n),this.svg.circle(o*i+o*a+(i+a)/2,s*i+s*a+(i+a)/2,i/2,{fill:"none",stroke:t,opacity:r,"stroke-width":a+"px"}),r=p(n=c(this.hash,39-e)),t=u(n),this.svg.circle(o*i+o*a+(i+a)/2,s*i+s*a+(i+a)/2,i/4,{fill:t,"fill-opacity":r}),e+=1},d.prototype.geoOverlappingRings=function(){var t,e,r,n,o,s,i=l(c(this.hash,0),0,15,10,60),a=i/4;for(this.svg.setWidth(6*i),this.svg.setHeight(6*i),t=0,s=0;s<6;s++)for(o=0;o<6;o++)e=p(n=c(this.hash,t)),r={fill:"none",stroke:u(n),opacity:e,"stroke-width":a+"px"},this.svg.circle(o*i,s*i,i-a/2,r),0===o&&this.svg.circle(6*i,s*i,i-a/2,r),0===s&&this.svg.circle(o*i,6*i,i-a/2,r),0===o&&0===s&&this.svg.circle(6*i,6*i,i-a/2,r),t+=1},d.prototype.geoTriangles=function(){var t,e,r,n,o,s,i,a=l(c(this.hash,0),0,15,15,80),h=a/2*Math.sqrt(3),d=function(t,e){var r=t/2;return[r,0,t,e,0,e,r,0].join(",")}(a,h);for(this.svg.setWidth(3*a),this.svg.setHeight(6*h),t=0,i=0;i<6;i++)for(s=0;s<6;s++)e=p(o=c(this.hash,t)),n={fill:u(o),"fill-opacity":e,stroke:"#000","stroke-opacity":.02},r=i%2==0?s%2==0?180:0:s%2!=0?180:0,this.svg.polyline(d,n).transform({translate:[s*a*.5-a/2,h*i],rotate:[r,a/2,h/2]}),0===s&&this.svg.polyline(d,n).transform({translate:[6*a*.5-a/2,h*i],rotate:[r,a/2,h/2]}),t+=1},d.prototype.geoDiamonds=function(){var t,e,r,n,o,s,i,a,h,d=l(c(this.hash,0),0,15,10,50),g=l(c(this.hash,1),0,15,10,50),f=[(t=d)/2,0,t,(e=g)/2,t/2,e,0,e/2].join(",");for(this.svg.setWidth(6*d),this.svg.setHeight(3*g),n=0,h=0;h<6;h++)for(a=0;a<6;a++)o=p(i=c(this.hash,n)),s={fill:u(i),"fill-opacity":o,stroke:"#000","stroke-opacity":.02},r=h%2==0?0:d/2,this.svg.polyline(f,s).transform({translate:[a*d-d/2+r,g/2*h-g/2]}),0===a&&this.svg.polyline(f,s).transform({translate:[6*d-d/2+r,g/2*h-g/2]}),0===h&&this.svg.polyline(f,s).transform({translate:[a*d-d/2+r,g/2*6-g/2]}),0===a&&0===h&&this.svg.polyline(f,s).transform({translate:[6*d-d/2+r,g/2*6-g/2]}),n+=1},d.prototype.geoNestedSquares=function(){var t,e,r,n,o,s,i=l(c(this.hash,0),0,15,4,12),a=7*i;for(this.svg.setWidth(6*(a+i)+6*i),this.svg.setHeight(6*(a+i)+6*i),t=0,s=0;s<6;s++)for(o=0;o<6;o++)e=p(n=c(this.hash,t)),r={fill:"none",stroke:u(n),opacity:e,"stroke-width":i+"px"},this.svg.rect(o*a+o*i*2+i/2,s*a+s*i*2+i/2,a,a,r),e=p(n=c(this.hash,39-t)),r={fill:"none",stroke:u(n),opacity:e,"stroke-width":i+"px"},this.svg.rect(o*a+o*i*2+i/2+2*i,s*a+s*i*2+i/2+2*i,3*i,3*i,r),t+=1},d.prototype.geoMosaicSquares=function(){var t,e,r,n=l(c(this.hash,0),0,15,15,50);for(this.svg.setWidth(8*n),this.svg.setHeight(8*n),t=0,r=0;r<4;r++)for(e=0;e<4;e++)e%2==0?r%2==0?v(this.svg,e*n*2,r*n*2,n,c(this.hash,t)):m(this.svg,e*n*2,r*n*2,n,[c(this.hash,t),c(this.hash,t+1)]):r%2==0?m(this.svg,e*n*2,r*n*2,n,[c(this.hash,t),c(this.hash,t+1)]):v(this.svg,e*n*2,r*n*2,n,c(this.hash,t)),t+=1},d.prototype.geoPlaid=function(){var t,e,r,n,o,s,i=0,a=0;for(e=0;e<36;)i+=c(this.hash,e)+5,r=p(s=c(this.hash,e+1)),t=u(s),n=s+5,this.svg.rect(0,i,"100%",n,{opacity:r,fill:t}),i+=n,e+=2;for(e=0;e<36;)a+=c(this.hash,e)+5,r=p(s=c(this.hash,e+1)),t=u(s),o=s+5,this.svg.rect(a,0,o,"100%",{opacity:r,fill:t}),a+=o,e+=2;this.svg.setWidth(a),this.svg.setHeight(i)},d.prototype.geoTessellation=function(){var t,e,r,n,o=l(c(this.hash,0),0,15,5,40),s=o*Math.sqrt(3),i=2*o,a=o/2*Math.sqrt(3),h=function(t,e){return[0,0,e,t/2,0,t,0,0].join(",")}(o,a),d=3*o+2*a,g=2*s+2*o;for(this.svg.setWidth(d),this.svg.setHeight(g),t=0;t<20;t++)switch(e=p(n=c(this.hash,t)),r={stroke:"#000","stroke-opacity":.02,fill:u(n),"fill-opacity":e,"stroke-width":1},t){case 0:this.svg.rect(-o/2,-o/2,o,o,r),this.svg.rect(d-o/2,-o/2,o,o,r),this.svg.rect(-o/2,g-o/2,o,o,r),this.svg.rect(d-o/2,g-o/2,o,o,r);break;case 1:this.svg.rect(i/2+a,s/2,o,o,r);break;case 2:this.svg.rect(-o/2,g/2-o/2,o,o,r),this.svg.rect(d-o/2,g/2-o/2,o,o,r);break;case 3:this.svg.rect(i/2+a,1.5*s+o,o,o,r);break;case 4:this.svg.polyline(h,r).transform({translate:[o/2,-o/2],rotate:[0,o/2,a/2]}),this.svg.polyline(h,r).transform({translate:[o/2,g- -o/2],rotate:[0,o/2,a/2],scale:[1,-1]});break;case 5:this.svg.polyline(h,r).transform({translate:[d-o/2,-o/2],rotate:[0,o/2,a/2],scale:[-1,1]}),this.svg.polyline(h,r).transform({translate:[d-o/2,g+o/2],rotate:[0,o/2,a/2],scale:[-1,-1]});break;case 6:this.svg.polyline(h,r).transform({translate:[d/2+o/2,s/2]});break;case 7:this.svg.polyline(h,r).transform({translate:[d-d/2-o/2,s/2],scale:[-1,1]});break;case 8:this.svg.polyline(h,r).transform({translate:[d/2+o/2,g-s/2],scale:[1,-1]});break;case 9:this.svg.polyline(h,r).transform({translate:[d-d/2-o/2,g-s/2],scale:[-1,-1]});break;case 10:this.svg.polyline(h,r).transform({translate:[o/2,g/2-o/2]});break;case 11:this.svg.polyline(h,r).transform({translate:[d-o/2,g/2-o/2],scale:[-1,1]});break;case 12:this.svg.rect(0,0,o,o,r).transform({translate:[o/2,o/2],rotate:[-30,0,0]});break;case 13:this.svg.rect(0,0,o,o,r).transform({scale:[-1,1],translate:[o/2-d,o/2],rotate:[-30,0,0]});break;case 14:this.svg.rect(0,0,o,o,r).transform({translate:[o/2,g/2-o/2-o],rotate:[30,0,o]});break;case 15:this.svg.rect(0,0,o,o,r).transform({scale:[-1,1],translate:[o/2-d,g/2-o/2-o],rotate:[30,0,o]});break;case 16:this.svg.rect(0,0,o,o,r).transform({scale:[1,-1],translate:[o/2,g/2-g-o/2-o],rotate:[30,0,o]});break;case 17:this.svg.rect(0,0,o,o,r).transform({scale:[-1,-1],translate:[o/2-d,g/2-g-o/2-o],rotate:[30,0,o]});break;case 18:this.svg.rect(0,0,o,o,r).transform({scale:[1,-1],translate:[o/2,o/2-g],rotate:[-30,0,0]});break;case 19:this.svg.rect(0,0,o,o,r).transform({scale:[-1,-1],translate:[o/2-d,o/2-g],rotate:[-30,0,0]})}}},GFNa:function(t,e,r){},HtbY:function(t,e,r){"use strict";var n=r("sWw+"),o=r("j/WJ");function s(){return this.width=100,this.height=100,this.svg=o("svg"),this.context=[],this.setAttributes(this.svg,{xmlns:"http://www.w3.org/2000/svg",width:this.width,height:this.height}),this}t.exports=s,s.prototype.currentContext=function(){return this.context[this.context.length-1]||this.svg},s.prototype.end=function(){return this.context.pop(),this},s.prototype.currentNode=function(){var t=this.currentContext();return t.lastChild||t},s.prototype.transform=function(t){return this.currentNode().setAttribute("transform",Object.keys(t).map((function(e){return e+"("+t[e].join(",")+")"})).join(" ")),this},s.prototype.setAttributes=function(t,e){Object.keys(e).forEach((function(r){t.setAttribute(r,e[r])}))},s.prototype.setWidth=function(t){this.svg.setAttribute("width",Math.floor(t))},s.prototype.setHeight=function(t){this.svg.setAttribute("height",Math.floor(t))},s.prototype.toString=function(){return this.svg.toString()},s.prototype.rect=function(t,e,r,s,i){var a=this;if(Array.isArray(t))return t.forEach((function(t){a.rect.apply(a,t.concat(i))})),this;var h=o("rect");return this.currentContext().appendChild(h),this.setAttributes(h,n({x:t,y:e,width:r,height:s},i)),this},s.prototype.circle=function(t,e,r,s){var i=o("circle");return this.currentContext().appendChild(i),this.setAttributes(i,n({cx:t,cy:e,r:r},s)),this},s.prototype.path=function(t,e){var r=o("path");return this.currentContext().appendChild(r),this.setAttributes(r,n({d:t},e)),this},s.prototype.polyline=function(t,e){var r=this;if(Array.isArray(t))return t.forEach((function(t){r.polyline(t,e)})),this;var s=o("polyline");return this.currentContext().appendChild(s),this.setAttributes(s,n({points:t},e)),this},s.prototype.group=function(t){var e=o("g");return this.currentContext().appendChild(e),this.context.push(e),this.setAttributes(e,n({},t)),this}},HteQ:function(t,e){t.exports=require("preact")},Jwrc:function(t,e,r){"use strict";t.exports={hex2rgb:function(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,r,n){return e+e+r+r+n+n}));var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null},rgb2hex:function(t){return"#"+["r","g","b"].map((function(e){return("0"+t[e].toString(16)).slice(-2)})).join("")},rgb2hsl:function(t){var e=t.r,r=t.g,n=t.b;e/=255,r/=255,n/=255;var o,s,i=Math.max(e,r,n),a=Math.min(e,r,n),h=(i+a)/2;if(i===a)o=s=0;else{var c=i-a;switch(s=h>.5?c/(2-i-a):c/(i+a),i){case e:o=(r-n)/c+(r<n?6:0);break;case r:o=(n-e)/c+2;break;case n:o=(e-r)/c+4}o/=6}return{h:o,s:s,l:h}},hsl2rgb:function(t){function e(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}var r,n,o,s=t.h,i=t.s,a=t.l;if(0===i)r=n=o=a;else{var h=a<.5?a*(1+i):a+i-a*i,c=2*a-h;r=e(c,h,s+1/3),n=e(c,h,s),o=e(c,h,s-1/3)}return{r:Math.round(255*r),g:Math.round(255*n),b:Math.round(255*o)}},rgb2rgbString:function(t){return"rgb("+[t.r,t.g,t.b].join(",")+")"}}},QfWi:function(t,e,r){"use strict";r.r(e);var n=r("HteQ"),o=(r("GFNa"),{});function s(t,e){for(var r in e)t[r]=e[r];return t}function i(t,e,r){var n,s=/(?:\?([^#]*))?(#.*)?$/,i=t.match(s),a={};if(i&&i[1])for(var h=i[1].split("&"),l=0;l<h.length;l++){var u=h[l].split("=");a[decodeURIComponent(u[0])]=decodeURIComponent(u.slice(1).join("="))}t=c(t.replace(s,"")),e=c(e||"");for(var p=Math.max(t.length,e.length),d=0;d<p;d++)if(e[d]&&":"===e[d].charAt(0)){var g=e[d].replace(/(^:|[+*?]+$)/g,""),f=(e[d].match(/[+*?]+$/)||o)[0]||"",m=~f.indexOf("+"),v=~f.indexOf("*"),y=t[d]||"";if(!y&&!v&&(f.indexOf("?")<0||m)){n=!1;break}if(a[g]=decodeURIComponent(y),m||v){a[g]=t.slice(d).map(decodeURIComponent).join("/");break}}else if(e[d]!==t[d]){n=!1;break}return(!0===r.default||!1!==n)&&a}function a(t,e){return t.rank<e.rank?1:t.rank>e.rank?-1:t.index-e.index}function h(t,e){return t.index=e,t.rank=function(t){return t.props.default?0:(e=t.props.path,c(e).map(l).join(""));var e}(t),t.props}function c(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function l(t){return":"==t.charAt(0)?1+"*+?".indexOf(t.charAt(t.length-1))||4:5}var u=null,p=[],d=[],g={};function f(){var t;return""+((t=u&&u.location?u.location:u&&u.getCurrentLocation?u.getCurrentLocation():"undefined"!=typeof location?location:g).pathname||"")+(t.search||"")}function m(t,e){return void 0===e&&(e=!1),"string"!=typeof t&&t.url&&(e=t.replace,t=t.url),function(t){for(var e=p.length;e--;)if(p[e].canRoute(t))return!0;return!1}(t)&&function(t,e){void 0===e&&(e="push"),u&&u[e]?u[e](t):"undefined"!=typeof history&&history[e+"State"]&&history[e+"State"](null,null,t)}(t,e?"replace":"push"),v(t)}function v(t){for(var e=!1,r=0;r<p.length;r++)!0===p[r].routeTo(t)&&(e=!0);for(var n=d.length;n--;)d[n](t);return e}function y(t){if(t&&t.getAttribute){var e=t.getAttribute("href"),r=t.getAttribute("target");if(e&&e.match(/^\//g)&&(!r||r.match(/^_?self$/i)))return m(e)}}function b(t){if(!(t.ctrlKey||t.metaKey||t.altKey||t.shiftKey||0!==t.button))return y(t.currentTarget||t.target||this),O(t)}function O(t){return t&&(t.stopImmediatePropagation&&t.stopImmediatePropagation(),t.stopPropagation&&t.stopPropagation(),t.preventDefault()),!1}function j(t){if(!(t.ctrlKey||t.metaKey||t.altKey||t.shiftKey||0!==t.button)){var e=t.target;do{if("A"===String(e.nodeName).toUpperCase()&&e.getAttribute("href")){if(e.hasAttribute("native"))return;if(y(e))return O(t)}}while(e=e.parentNode)}}var C=!1;var w=function(t){function e(e){t.call(this,e),e.history&&(u=e.history),this.state={url:e.url||f()},C||("function"==typeof addEventListener&&(u||addEventListener("popstate",(function(){v(f())})),addEventListener("click",j)),C=!0)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.shouldComponentUpdate=function(t){return!0!==t.static||(t.url!==this.props.url||t.onChange!==this.props.onChange)},e.prototype.canRoute=function(t){var e=Object(n.toChildArray)(this.props.children);return this.getMatchingChildren(e,t,!1).length>0},e.prototype.routeTo=function(t){this.setState({url:t});var e=this.canRoute(t);return this.updating||this.forceUpdate(),e},e.prototype.componentWillMount=function(){p.push(this),this.updating=!0},e.prototype.componentDidMount=function(){var t=this;u&&(this.unlisten=u.listen((function(e){t.routeTo(""+(e.pathname||"")+(e.search||""))}))),this.updating=!1},e.prototype.componentWillUnmount=function(){"function"==typeof this.unlisten&&this.unlisten(),p.splice(p.indexOf(this),1)},e.prototype.componentWillUpdate=function(){this.updating=!0},e.prototype.componentDidUpdate=function(){this.updating=!1},e.prototype.getMatchingChildren=function(t,e,r){return t.filter(h).sort(a).map((function(t){var o=i(e,t.props.path,t.props);if(o){if(!1!==r){var a={url:e,matches:o};return s(a,o),delete a.ref,delete a.key,Object(n.cloneElement)(t,a)}return t}})).filter(Boolean)},e.prototype.render=function(t,e){var r=t.children,o=t.onChange,s=e.url,i=this.getMatchingChildren(Object(n.toChildArray)(r),s,!0),a=i[0]||null,h=this.previousUrl;return s!==h&&(this.previousUrl=s,"function"==typeof o&&o({router:this,url:s,previous:h,active:i,current:a})),a},e}(n.Component);w.subscribers=d,w.getCurrentUrl=f,w.route=m,w.Router=w,w.Route=function(t){return Object(n.createElement)(t.component,t)},w.Link=function(t){return Object(n.createElement)("a",s({onClick:b},t))},w.exec=i;var k=r("UQAG");function x(t,e){for(var r in e)t[r]=e[r];return t}const S={EASY:0,INTERMEDIATE:1,HARD:2,E:0,X:1,O:2,boardValues:[1,2,4,8,16,32,64,128,256],winningCounts:[7,56,73,84,146,273,292,448],winningCoordinates:{7:[[0,0],[0,1],[0,2]],56:[[1,0],[1,1],[1,2]],84:[[0,2],[1,1],[2,0]],73:[[0,0],[1,0],[2,0]],146:[[0,1],[1,1],[2,1]],273:[[0,0],[1,1],[2,2]],292:[[0,2],[1,2],[2,2]],448:[[2,0],[2,1],[2,2]]},generateEmptyBoard:()=>[S.E,S.E,S.E,S.E,S.E,S.E,S.E,S.E,S.E],getWinningCoordinates(t){for(let e=0,r=S.winningCounts.length;e<r;e++){const r=S.winningCounts[e],n=S.winningCounts[e]&t;if(n===r)return S.winningCoordinates[n]}return null},getWinningIndexesFromCoordinates:t=>t.map(t=>3*t[0]+t[1]),getCounts(t){let e=0,r=0,n=0;for(var o=0;o<9;o++)t[o]===S.X?e+=S.boardValues[o]:t[o]===S.O?r+=S.boardValues[o]:n+=1;return[n,e,r]},generateState(t,e){const r=S.getCounts(t),n=S.getWinningCoordinates(r[S.X]),o=S.getWinningCoordinates(r[S.O]),s=n||o||[],i=S.getWinningIndexesFromCoordinates(s),a=!!n||!!o||0===r[S.E],h=a&&!n&&!o,c=a?h?0:10-r[S.E]:null,l=a?h?0:n?c:-c:null,u=a?h?0:o?c:-c:null,p={[S.X]:l,[S.O]:u};return{lastMoveBy:e,nextPlayer:e===S.X?S.O:S.X,board:t,counts:r,finished:a,xWin:n,oWin:o,winCoordinates:s,winIndexes:i,draw:h,score:p}},stateFromPlayerMove(t,e){const r=t.board.slice(0);if(r[e]!==S.E)throw new Error("That place on the board is already taken.");return r[e]=t.nextPlayer,S.generateState(r,t.nextPlayer)},getEmptyPlaceIndicies:t=>t.reduce((t,e,r)=>(e===S.E&&t.push(r),t),[]),getPotentialNextStates:t=>S.getEmptyPlaceIndicies(t.board).map(e=>S.stateFromPlayerMove(t,e)),minimax(t){let e=0;return S.getPotentialNextStates(t).forEach(t=>{const r=S.minimax(t);e+=r}),t.finished&&!t.draw&&(t.xWin&&(e+=t.score[S.X]),t.oWin&&(e-=Math.abs(t.score[S.O]))),e},sortForX:(t,e)=>t.minimax-e.minimax,sortForO:(t,e)=>e.minimax-t.minimax,getSortedAINextStates:t=>S.getPotentialNextStates(t).map(t=>(t.minimax=S.minimax(t),t)).sort(S["sortFor"+(t.lastMoveBy===S.X?"X":"O")]),stateFromAIMoveEasy(t){const e=S.getEmptyPlaceIndicies(t.board),r=e[Math.floor(Math.random()*e.length)];return S.stateFromPlayerMove(t,r)},stateFromAIMoveIntermediate(t){if(9===t.counts[S.E])return S.stateFromAIFirstMove(t);{const e=S.getSortedAINextStates(t);return e[1===e.length||100*Math.random()<=40?0:1]}},stateFromAIMoveHard(t){if(9===t.counts[S.E])return S.stateFromAIFirstMove(t);return S.getSortedAINextStates(t)[0]},stateFromAIMove(t,e){switch(t){case S.EASY:return S.stateFromAIMoveEasy(e);case S.INTERMEDIATE:return S.stateFromAIMoveIntermediate(e);case S.HARD:return S.stateFromAIMoveHard(e)}},stateFromAIFirstMove(t){const e=[0,2,4,6,8],r=e[Math.floor(Math.random()*e.length)];return S.stateFromPlayerMove(t,r)},symbolForBoardSpot:(t,e)=>({0:" ",1:"X",2:"O"}[t.board[e]]),stateBoardToString:t=>`\n${S.symbolForBoardSpot(t,0)} | ${S.symbolForBoardSpot(t,1)} | ${S.symbolForBoardSpot(t,2)}\n---------\n${S.symbolForBoardSpot(t,3)} | ${S.symbolForBoardSpot(t,4)} | ${S.symbolForBoardSpot(t,5)}\n---------\n${S.symbolForBoardSpot(t,6)} | ${S.symbolForBoardSpot(t,7)} | ${S.symbolForBoardSpot(t,8)}\n    `};var P=S;function E(){return(E=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}const T={[P.EASY]:"Easy",[P.INTERMEDIATE]:"Medium",[P.HARD]:"Hard"},I={[P.X]:"X",[P.O]:"O"},A={hard:P.HARD,medium:P.INTERMEDIATE,easy:P.EASY},M={x:P.X,o:P.O};const F="tictactoe.fun";let W={};"undefined"!=typeof window&&(W=JSON.parse(localStorage.getItem(F)||"{}"));const H=function(t){var e=[];function r(t){for(var r=[],n=0;n<e.length;n++)e[n]===t?t=null:r.push(e[n]);e=r}function n(r,n,o){t=n?r:x(x({},t),r);for(var s=e,i=0;i<s.length;i++)s[i](t,o)}return t=t||{},{action:function(e){function r(t){n(t,!1,e)}return function(){for(var n=arguments,o=[t],s=0;s<arguments.length;s++)o.push(n[s]);var i=e.apply(this,o);if(null!=i)return i.then?i.then(r):r(i)}},setState:n,subscribe:function(t){return e.push(t),function(){r(t)}},unsubscribe:r,getState:function(){return t}}}(E({lastUri:null,lastPlayerChoice:P.X,lastModeChoice:P.INTERMEDIATE,games:{},stats:{[P.EASY]:{[P.X]:{win:0,loss:0,tie:0},[P.O]:{win:0,loss:0,tie:0}},[P.INTERMEDIATE]:{[P.X]:{win:0,loss:0,tie:0},[P.O]:{win:0,loss:0,tie:0}},[P.HARD]:{[P.X]:{win:0,loss:0,tie:0},[P.O]:{win:0,loss:0,tie:0}},remote:{[P.X]:{win:0,loss:0,tie:0},[P.O]:{win:0,loss:0,tie:0}}}},W)),B=t=>({navigate:(t,e)=>({lastUri:e.url}),setLastPlayerChoice(t,e){if(I[e])return{lastPlayerChoice:e}},setLastModeChoice(t,e){if(T[e])return{lastModeChoice:e}},newGame(t,e,r){let n=P.generateState(P.generateEmptyBoard());r!==P.X&&(n=P.stateFromAIFirstMove(n));const o=E({},t.games);return o[e]=n,{games:o}},clearGameStateFromParams(t,e,r){const n=function(t,e){return`local-${t}-${e}`}(e,r);this.clearGameState(n)},clearGameState(t,e){const r=E({},t.games);return r[e]=P.generateState(P.generateEmptyBoard()),{games:r}},moveForPlayer(t,e,r){const n=E({},t.games);return n[e]=P.stateFromPlayerMove(n[e],r),{games:n}},moveForComputer(t,e,r){const n=E({},t.games);return n[e]=P.stateFromAIMove(r,n[e]),{games:n}},localSaveStats(t,e){const r=parseInt(e.split("-")[1],10),n=parseInt(e.split("-")[2],10),o=t.games[e],s=E({},t.stats),i=o.draw,a=r===P.X?!!o.xWin:!!o.oWin;return i?s[n][r].tie+=1:a?s[n][r].win+=1:s[n][r].loss+=1,{stats:s}}});"undefined"!=typeof window&&(H.subscribe(t=>{localStorage.setItem(F,JSON.stringify(t))}),window.addEventListener("storage",t=>{if(t.key===F){const t=JSON.parse(localStorage.getItem(F)||"{}");H.setState(t)}},!1));var D=r("jn/J"),R=r.n(D);var X=function(){return Object(n.h)("header",null,Object(n.h)("h1",null,"TicTacToe.Fun"))},N=function(){return Object(n.h)("footer",null,Object(n.h)("p",null,Object(n.h)("a",{href:"https://fresh.codes"},Object(n.h)("img",{src:"/assets/fresh-codes.svg",alt:"Fresh Codes",width:"200"}))))};class U extends n.Component{constructor(...t){super(...t),this.handleChange=t=>{this.props.setLastPlayerChoice(parseInt(t.target.value,10))}}render({lastPlayerChoice:t}){const e=Object.entries(I).map(([e,r])=>(e=parseInt(e,10),Object(n.h)("option",{key:e,value:e,selected:t===e},r)));return Object(n.h)("div",{class:"player-choice"},Object(n.h)("label",null,Object(n.h)("span",null,"Play as:"),Object(n.h)("select",{name:"player",onchange:this.handleChange},e)))}}var G=Object(k.connect)("lastPlayerChoice",B)(U);class $ extends n.Component{constructor(...t){super(...t),this.handleChange=t=>{this.props.setLastModeChoice(parseInt(t.target.value,10))}}render({lastModeChoice:t}){const e=Object.entries(T).map(([e,r])=>(e=parseInt(e,10),Object(n.h)("option",{key:e,value:e,selected:t===e},r)));return Object(n.h)("div",{class:"mode-choice"},Object(n.h)("label",null,Object(n.h)("span",null,"Computer difficulty:"),Object(n.h)("select",{name:"mode",onchange:this.handleChange},e)))}}var Y=Object(k.connect)("lastModeChoice",B)($);class L extends n.Component{constructor(...t){super(...t),this.startLocalGame=t=>{const e=this.props.lastPlayerChoice,r=this.props.lastModeChoice,n=I[e].toLowerCase(),o=T[r].toLowerCase();this.props.clearGameStateFromParams(e,r),m(`/local/${n}/${o}`)},this.startRemoteGame=t=>{m("/host")}}render(){return Object(n.h)("main",null,Object(n.h)("div",{class:"title-screen-local-game"},Object(n.h)("p",null,"Play against the computer."),Object(n.h)(G,null),Object(n.h)(Y,null),Object(n.h)("p",null,Object(n.h)("button",{onclick:this.startLocalGame},"Play"))),Object(n.h)("div",{class:"title-screen-remote-game"},Object(n.h)("p",null,"You can also play against a friend."),Object(n.h)("p",null,Object(n.h)("button",{onclick:this.startRemoteGame},"Start Remote Game"))),Object(n.h)("p",null,"Check out your ",Object(n.h)("a",{href:"/stats"},"stats"),"."))}}class _ extends n.Component{constructor(...t){super(...t),this.textMap={[P.E]:" ",[P.X]:"X",[P.O]:"O"},this.click=t=>{const e=t.target.closest("td"),r=parseInt(e.getAttribute("data-index"),10),n=0===parseInt(e.getAttribute("data-state"),10);this.props.click({td:e,boardIndex:r,isEmpty:n})}}renderCell(t,e){const r=e+3*t,o=this.props.board[r],s=`Cell ${e}, ${t}`,i=this.textMap[o],a=this.props.win.indexOf(r)>-1?"W":"";return Object(n.h)("td",{"data-index":r,"data-state":o,class:a},Object(n.h)("div",null,Object(n.h)("button",{type:"button",label:s,onClick:this.click},i)))}renderRow(t){const e=[0,1,2].map(e=>this.renderCell(t,e));return Object(n.h)("tr",null,e)}render(){const t=[0,1,2].map(t=>this.renderRow(t));return Object(n.h)("div",{class:"board"},Object(n.h)("table",null,Object(n.h)("caption",null,"Game Board"),Object(n.h)("tbody",null,t)))}}class K extends n.Component{constructor(t){super(t),this.restart=t=>{this.finished=!1,this.props.newGame(this.gameKey,this.player)},this.newgame=t=>{this.props.clearGameState(this.gameKey),m("/")},this.boardClick=t=>{this.game.finished||this.game.nextPlayer===this.player&&(t.isEmpty||alert("This space is already taken"),this.props.moveForPlayer(this.gameKey,t.boardIndex),window.requestAnimationFrame(()=>{this.checkAndTakeComputersTurn()}))},this.state={thinking:!1},this.player=M[t.player.toLowerCase()],this.mode=A[t.mode.toLowerCase()],this.gameKey=`local-${this.player}-${this.mode}`,this.redirectIfInvalidSettings()}redirectIfInvalidSettings(){void 0!==this.player&&void 0!==this.mode||m("/")}componentDidUpdate(){!this.finished&&this.game.finished&&this.onfinish()}onfinish(){this.props.localSaveStats(this.gameKey)}componentDidMount(){this.game?(this.finished=this.game.finished,this.checkAndTakeComputersTurn()):this.restart()}checkAndTakeComputersTurn(){this.game&&!this.game.finished&&this.game.nextPlayer!==this.player&&(this.setState({thinking:!0}),window.requestAnimationFrame(()=>{this.props.moveForComputer(this.gameKey,this.mode),this.setState({thinking:!1})}))}status(){return this.game&&this.game.finished?this.game.draw?"Tie":this.player===P.X&&this.game.xWin||this.player===P.O&&this.game.oWin?"You won":"You lost":this.state.thinking?"Thinking...":"Your turn..."}render({player:t,mode:e}){const r=this.game?Object(n.h)(_,{win:this.game.winIndexes,board:this.game.board,click:this.boardClick}):Object(n.h)("div",null);return Object(n.h)("main",null,Object(n.h)("p",null,"You are playing as ",Object(n.h)("strong",null,t.toUpperCase())," against the computer on ",Object(n.h)("strong",null,e.toLowerCase())," mode."),Object(n.h)("div",{class:"board-wrapper"},r,Object(n.h)("span",{"aria-live":"polite","aria-atomic":"true",class:"status"},this.status())),Object(n.h)("p",null,Object(n.h)("button",{onclick:this.restart},"Restart"),Object(n.h)("button",{onclick:this.newgame},"New Game")))}get game(){return this.props.games[this.gameKey]}}var q={on(t,e){this._events||(this._events={}),this._events[t]||(this._events[t]=[]),this._events[t].push(e)},off(t,e){const r=this._events&&this._events[t];if(r)for(let t=0;t<r.length;t++)r[t]===e&&r.splice(t--,1)},trigger(t,...e){this._events&&this._events[t]&&this._events[t].forEach(t=>t.apply(this,e))}};class J{}function Q(){return(Q=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}class V{constructor(){this.peer=new J,this.peer.on("open",this.onPeerOpen.bind(this)),this.peer.on("close",this.onPeerClose.bind(this)),this.peer.on("connection",this.onPeerConnect.bind(this)),this.peer.on("disconnected",this.onPeerDisconnect.bind(this)),this.peer.on("error",this.onPeerError.bind(this))}connectToHost(t){this.hostId=t,this.connection=this.peer.connect(this.hostId),this.connection.on("open",this.onFriendToHostConnectionOpen.bind(this)),this.connection.on("data",this.onFriendToHostConnectionData.bind(this)),this.connection.on("close",this.onFriendToHostConnectionClose.bind(this)),this.connection.on("error",this.onFriendToHostConnectionError.bind(this))}onPeerOpen(t){console.debug("Connected with peer server and got the ID: "+t),this.peerId=t,this.trigger("open")}onPeerClose(){console.debug("Peer closed")}onPeerConnect(t){this.connection?console.debug("User is already connected"):(this.connection=t,this.connection.on("open",this.onHostToFriendConnectionOpen.bind(this)),this.connection.on("data",this.onHostToFriendConnectionData.bind(this)),this.connection.on("close",this.onHostToFriendConnectionClose.bind(this)),this.connection.on("error",this.onHostToFriendConnectionError.bind(this)))}onPeerDisconnect(){console.debug("Peer disconnected")}onPeerError(t){console.error("Error from peerjs",t),this.trigger("error",t)}onFriendToHostConnectionOpen(){console.debug("Connected to host"),this.trigger("connected")}onFriendToHostConnectionData(t){console.debug("Received data from host",t)}onFriendToHostConnectionClose(){console.debug("Connected to host closed")}onFriendToHostConnectionError(t){console.error("Connect to host error",t),this.trigger("error",t)}onHostToFriendConnectionOpen(){console.debug("Connected to friend"),this.trigger("connected")}onHostToFriendConnectionData(t){console.debug("Received data from friend",t)}onHostToFriendConnectionClose(){console.debug("Connected to friend closed")}onHostToFriendConnectionError(t){console.error("Connect to friend error",t),this.trigger("error",t)}}Q(V.prototype,q);var z=V;class Z extends z{constructor(t){super(),this.player=t,this.game=P.generateState(P.generateEmptyBoard(),P.O)}move(t){this.game=P.stateFromPlayerMove(this.game,t),this.connection.send(this.game),this.trigger("updatedGameState",this.game)}restart(){this.game=P.generateState(P.generateEmptyBoard(),P.O),this.connection.send(this.game),this.trigger("updatedGameState",this.game)}onHostToFriendConnectionData(t){super.onHostToFriendConnectionData(t),this.game=t,this.trigger("updatedGameState",this.game)}onFriendToHostConnectionData(t){super.onFriendToHostConnectionData(t),this.game=t,this.trigger("updatedGameState",this.game)}}class tt extends n.Component{constructor(t){super(t),this.restart=t=>{this.controller.restart()},this.newgame=t=>{m("/")},this.boardClick=t=>{console.log("BoardClick",t,this.game),this.game.finished||this.game.nextPlayer===this.player&&(t.isEmpty||alert("This space is already taken"),this.controller.move(t.boardIndex))},this.state={connectedToPeer:!1,connectedToPlayer:!1,waiting:!1,error:!1,win:[],board:P.generateEmptyBoard()},"undefined"!=typeof window&&(this.controller=new Z(P.X),this.controller.on("open",()=>this.setState({connectedToPeer:!0})),this.controller.on("connected",()=>this.setState({connectedToPlayer:!0})),this.controller.on("updatedGameState",t=>{const e=this.game.nextPlayer!==this.player;this.setState({waiting:e,win:t.winIndexes,board:t.board})}))}get player(){return this.controller&&this.controller.player}get game(){return this.controller&&this.controller.game}status(){return this.game&&this.game.finished?this.game.draw?"Tie":this.player===P.X&&this.game.xWin||this.player===P.O&&this.game.oWin?"You won":"You lost":this.state.waiting?"Waiting...":"Your turn..."}renderConnecting(){return Object(n.h)("main",null,Object(n.h)("p",null,"Connecting..."),this.renderButtons())}renderWaitingForPlayer(){const t=window.location.href.replace("/host","/remote?"+this.controller.peer.id),e=Object(n.h)("p",null,"Copy and paste this link to a friend: ",Object(n.h)("input",{type:"text",value:t,readonly:!0}));return Object(n.h)("main",null,Object(n.h)("p",null,"Waiting for another player..."),e,this.renderButtons())}renderBoard(){const t=this.state.connectedToPlayer?Object(n.h)(_,{win:this.state.win,board:this.state.board,click:this.boardClick}):Object(n.h)("div",null);return Object(n.h)("main",null,Object(n.h)("p",null,"You are playing as X."),Object(n.h)("div",{class:"board-wrapper"},t,Object(n.h)("span",{"aria-live":"polite","aria-atomic":"true",class:"status"},this.status())),this.renderButtons())}renderButtons(){const t=this.game&&this.game.finished?Object(n.h)("button",{onclick:this.restart},"Restart"):"";return Object(n.h)("p",null,t,Object(n.h)("button",{onclick:this.newgame},"New Game"))}render(t,e){return e.connectedToPeer?e.connectedToPlayer?this.renderBoard():this.renderWaitingForPlayer():this.renderConnecting()}}class et extends n.Component{constructor(t){super(t),this.boardClick=t=>{console.log("BoardClick",t,this.game),this.game.finished||this.game.nextPlayer===this.player&&(t.isEmpty||alert("This space is already taken"),this.controller.move(t.boardIndex))},this.restart=t=>{this.controller.restart()},this.newgame=t=>{m("/")},this.state={connectedToPeer:!1,connectedToPlayer:!1,waiting:!0,error:!1,win:[],board:P.generateEmptyBoard()},"undefined"!=typeof window&&(this.hostId=window.location.search.replace("?",""),this.controller=new Z(P.O),this.controller.on("open",()=>{this.setState({connectedToPeer:!0}),this.controller.connectToHost(this.hostId)}),this.controller.on("connected",()=>this.setState({connectedToPlayer:!0})),this.controller.on("updatedGameState",t=>{const e=this.game.nextPlayer!==this.player;this.setState({waiting:e,win:t.winIndexes,board:t.board})}))}get player(){return this.controller&&this.controller.player}get game(){return this.controller&&this.controller.game}status(){return this.game&&this.game.finished?this.game.draw?"Tie":this.player===P.X&&this.game.xWin||this.player===P.O&&this.game.oWin?"You won":"You lost":this.state.waiting?"Waiting...":"Your turn..."}renderConnecting(){return Object(n.h)("main",null,Object(n.h)("p",null,"Connecting..."),this.renderButtons())}renderWaitingForPlayer(){return Object(n.h)("main",null,Object(n.h)("p",null,"Connecting to player..."),this.renderButtons())}renderBoard(){const t=this.state.connectedToPlayer?Object(n.h)(_,{win:this.state.win,board:this.state.board,click:this.boardClick}):Object(n.h)("div",null);return Object(n.h)("main",null,Object(n.h)("p",null,"You are playing as O."),Object(n.h)("div",{class:"board-wrapper"},t,Object(n.h)("span",{class:"status"},this.status())),this.renderButtons())}renderButtons(){const t=this.game&&this.game.finished?Object(n.h)("button",{onclick:this.restart},"Restart"):"";return Object(n.h)("p",null,t,Object(n.h)("button",{onclick:this.newgame},"New Game"))}render(t,e){return e.connectedToPeer?e.connectedToPlayer?this.renderBoard():this.renderWaitingForPlayer():this.renderConnecting()}}class rt extends n.Component{renderRow(t,e,r){return Object(n.h)("tr",null,Object(n.h)("td",{class:"mode"},T[t]),Object(n.h)("td",{class:"player"},I[e]),Object(n.h)("td",{class:"win"},r.win),Object(n.h)("td",{class:"loss"},r.loss),Object(n.h)("td",{class:"tie"},r.tie))}render({stats:t}){const e=[[P.EASY,P.X],[P.EASY,P.O],[P.INTERMEDIATE,P.X],[P.INTERMEDIATE,P.O],[P.HARD,P.X],[P.HARD,P.O]].map(([e,r])=>this.renderRow(e,r,t[e][r]));return Object(n.h)("main",{class:"stats"},Object(n.h)("table",{class:"stats"},Object(n.h)("caption",null,"Historical stats of wins, losses and ties."),Object(n.h)("thead",null,Object(n.h)("tr",null,Object(n.h)("th",{class:"mode"},"Mode"),Object(n.h)("th",{class:"player"},"Player"),Object(n.h)("th",{class:"win"},"Wins"),Object(n.h)("th",{class:"loss"},"Losses"),Object(n.h)("th",{class:"loss"},"Ties"))),Object(n.h)("tbody",null,e)),Object(n.h)("p",null,Object(n.h)("a",{href:"/"},"Back home")))}}var nt=Object(k.connect)("stats")(rt);function ot(){return(ot=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}class st extends n.Component{componentDidMount(){!function(){const t=R.a.generate();document.body.style.backgroundImage=t.toDataUrl(),document.documentElement.style.backgroundColor=t.color}(),this.routeToLastPath()}routeToLastPath(){const t=window.location.pathname,e=this.props.lastUri;e&&e!==t&&m(e)}render(){return Object(n.h)("div",{id:"app"},Object(n.h)(X,null),Object(n.h)(w,{onChange:this.props.navigate},Object(n.h)(L,ot({path:"/"},this.props)),Object(n.h)(K,ot({path:"/local/:player/:mode"},this.props)),Object(n.h)(tt,{path:"/host"}),Object(n.h)(et,{path:"/remote"}),Object(n.h)(nt,{path:"/stats"})),Object(n.h)(N,null))}}var it=Object(k.connect)("lastUri,lastPlayerChoice,lastModeChoice,games",B)(st);e.default=()=>Object(n.h)(k.Provider,{store:H},Object(n.h)(it,null))},UQAG:function(t,e,r){var n=r("HteQ");function o(t,e){for(var r in e)t[r]=e[r];return t}function s(t){this.getChildContext=function(){return{store:t.store}}}s.prototype.render=function(t){return t.children&&t.children[0]||t.children},e.connect=function(t,e){var r;return"function"!=typeof t&&("string"==typeof(r=t||{})&&(r=r.split(/\s*,\s*/)),t=function(t){for(var e={},n=0;n<r.length;n++)e[r[n]]=t[r[n]];return e}),function(r){function s(s,i){var a=this,h=i.store,c=t(h?h.getState():{},s),l=e?function(t,e){"function"==typeof t&&(t=t(e));var r={};for(var n in t)r[n]=e.action(t[n]);return r}(e,h):{store:h},u=function(){var e=t(h?h.getState():{},s);for(var r in e)if(e[r]!==c[r])return c=e,a.setState({});for(var n in c)if(!(n in e))return c=e,a.setState({})};this.componentWillReceiveProps=function(t){s=t,u()},this.componentDidMount=function(){h.subscribe(u)},this.componentWillUnmount=function(){h.unsubscribe(u)},this.render=function(t){return n.h(r,o(o(o({},l),t),c))}}return(s.prototype=new n.Component).constructor=s}},e.Provider=s},"j/WJ":function(t,e,r){"use strict";var n=t.exports=function(t){return this instanceof n?(this.tagName=t,this.attributes=Object.create(null),this.children=[],this.lastChild=null,this):new n(t)};n.prototype.appendChild=function(t){return this.children.push(t),this.lastChild=t,this},n.prototype.setAttribute=function(t,e){return this.attributes[t]=e,this},n.prototype.toString=function(){var t=this;return["<",t.tagName,Object.keys(t.attributes).map((function(e){return[" ",e,'="',t.attributes[e],'"'].join("")})).join(""),">",t.children.map((function(t){return t.toString()})).join(""),"</",t.tagName,">"].join("")}},"jn/J":function(t,e,r){!function(e){"use strict";var n=r("84ms");function o(t){return function(e,r){return"object"==typeof e&&(r=e,e=null),null==e&&(e=(new Date).toString()),r||(r={}),t.call(this,e,r)}}var s=t.exports={generate:o((function(t,e){return new n(t,e)}))};e&&(e.fn.geopattern=o((function(t,r){return this.each((function(){var n=e(this).attr("data-title-sha");n&&(r=e.extend({hash:n},r));var o=s.generate(t,r);e(this).css("background-image",o.toDataUrl())}))})))}("undefined"!=typeof jQuery?jQuery:null)},"sWw+":function(t,e){var r=Object.prototype.hasOwnProperty,n=Object.prototype.toString;function o(t){if(!t||"[object Object]"!==n.call(t)||t.nodeType||t.setInterval)return!1;var e,o=r.call(t,"constructor"),s=r.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!o&&!s)return!1;for(e in t);return void 0===e||r.call(t,e)}t.exports=function t(){var e,r,n,s,i,a,h=arguments[0]||{},c=1,l=arguments.length,u=!1;for("boolean"==typeof h&&(u=h,h=arguments[1]||{},c=2),"object"!=typeof h&&"function"!=typeof h&&(h={});c<l;c++)if(null!=(e=arguments[c]))for(r in e)n=h[r],h!==(s=e[r])&&(u&&s&&(o(s)||(i=Array.isArray(s)))?(i?(i=!1,a=n&&Array.isArray(n)?n:[]):a=n&&o(n)?n:{},h[r]=t(u,a,s)):void 0!==s&&(h[r]=s));return h}},x6h6:function(t,e,r){"use strict";function n(){var t=1732584193,e=4023233417,r=2562383102,n=271733878,o=3285377520,s=new Uint32Array(80),i=0,a=24,h=0;function c(){for(var a=16;a<80;a++){var h=s[a-3]^s[a-8]^s[a-14]^s[a-16];s[a]=h<<1|h>>>31}var c,l,u=t,p=e,d=r,g=n,f=o;for(a=0;a<80;a++){a<20?(c=g^p&(d^g),l=1518500249):a<40?(c=p^d^g,l=1859775393):a<60?(c=p&d|g&(p|d),l=2400959708):(c=p^d^g,l=3395469782);var m=(u<<5|u>>>27)+c+f+l+(0|s[a]);f=g,g=d,d=p<<30|p>>>2,p=u,u=m}for(t=t+u|0,e=e+p|0,r=r+d|0,n=n+g|0,o=o+f|0,i=0,a=0;a<16;a++)s[a]=0}function l(t){s[i]|=(255&t)<<a,a?a-=8:(i++,a=24),16===i&&c()}function u(t){for(var e="",r=28;r>=0;r-=4)e+=(t>>r&15).toString(16);return e}return{update:function(t){if("string"==typeof t)return function(t){var e=t.length;h+=8*e;for(var r=0;r<e;r++)l(t.charCodeAt(r))}(t);var e=t.length;h+=8*e;for(var r=0;r<e;r++)l(t[r])},digest:function(){l(128),(i>14||14===i&&a<24)&&c(),i=14,a=24,l(0),l(0),l(h>0xffffffffff?h/1099511627776:0),l(h>4294967295?h/4294967296:0);for(var s=24;s>=0;s-=8)l(h>>s);return u(t)+u(e)+u(r)+u(n)+u(o)}}}t.exports=function(t){if(void 0===t)return n();var e=n();return e.update(t),e.digest()}}});
//# sourceMappingURL=ssr-bundle.js.map