(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{ddgq:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var s=i("hosL"),a=i("k8bO");class r extends s.Component{constructor(){super(...arguments),this.textMap={[a.a.E]:" ",[a.a.X]:"X",[a.a.O]:"O"},this.click=t=>{var e=t.target.closest("td"),i=parseInt(e.getAttribute("data-index"),10),s=parseInt(e.getAttribute("data-state"),10);this.props.click({td:e,boardIndex:i,isEmpty:0===s})}}renderCell(t,e){var i=e+3*t,a=this.props.board[i],r="Cell "+e+", "+t,n=this.textMap[a],h=this.props.win.indexOf(i)>-1?"W":"";return Object(s.h)("td",{"data-index":i,"data-state":a,class:h},Object(s.h)("div",null,Object(s.h)("button",{type:"button",label:r,onClick:this.click},n)))}renderRow(t){var e=[0,1,2].map(e=>this.renderCell(t,e));return Object(s.h)("tr",null,e)}render(){var t=[0,1,2].map(t=>this.renderRow(t));return Object(s.h)("div",{class:"board"},Object(s.h)("table",null,Object(s.h)("caption",null,"Game Board"),Object(s.h)("tbody",null,t)))}}},"l/qf":function(t,e,i){"use strict";i.r(e),i.d(e,"default",(function(){return o}));var s=i("hosL"),a=i("Y3FI"),r=i("ddgq"),n=i("k8bO"),h=i("BXF7");class o extends s.Component{constructor(t){super(t),this.restart=()=>{this.finished=!1,this.props.newGame(this.gameKey,this.player)},this.newgame=()=>{this.props.clearGameState(this.gameKey),Object(a.b)("/")},this.boardClick=t=>{this.game.finished||this.game.nextPlayer===this.player&&(t.isEmpty||alert("This space is already taken"),this.props.moveForPlayer(this.gameKey,t.boardIndex),window.requestAnimationFrame(()=>{this.checkAndTakeComputersTurn()}))},this.state={thinking:!1},this.player=h.d[t.player.toLowerCase()],this.mode=h.b[t.mode.toLowerCase()],this.gameKey="local-"+this.player+"-"+this.mode,this.redirectIfInvalidSettings()}redirectIfInvalidSettings(){void 0!==this.player&&void 0!==this.mode||Object(a.b)("/")}componentDidUpdate(){!this.finished&&this.game.finished&&this.onfinish()}onfinish(){this.props.localSaveStats(this.gameKey)}componentDidMount(){this.game?(this.finished=this.game.finished,this.checkAndTakeComputersTurn()):this.restart()}checkAndTakeComputersTurn(){this.game&&!this.game.finished&&this.game.nextPlayer!==this.player&&(this.setState({thinking:!0}),window.requestAnimationFrame(()=>{this.props.moveForComputer(this.gameKey,this.mode),this.setState({thinking:!1})}))}status(){return this.game&&this.game.finished?this.game.draw?"Tie":this.player===n.a.X&&this.game.xWin||this.player===n.a.O&&this.game.oWin?"You won":"You lost":this.state.thinking?"Thinking...":"Your turn..."}render(t){var{player:e,mode:i}=t,a=this.game?Object(s.h)(r.a,{win:this.game.winIndexes,board:this.game.board,click:this.boardClick}):Object(s.h)("div",null);return Object(s.h)("main",null,Object(s.h)("p",null,"You are playing as ",Object(s.h)("strong",null,e.toUpperCase())," against the computer on ",Object(s.h)("strong",null,i.toLowerCase())," mode."),Object(s.h)("div",{class:"board-wrapper"},a,Object(s.h)("span",{"aria-live":"polite","aria-atomic":"true",class:"status"},this.status())),Object(s.h)("p",null,Object(s.h)("button",{onclick:this.restart},"Restart"),Object(s.h)("button",{onclick:this.newgame},"New Game")))}get game(){return this.props.games[this.gameKey]}}}}]);
//# sourceMappingURL=route-local_game.chunk.0fae3.esm.js.map